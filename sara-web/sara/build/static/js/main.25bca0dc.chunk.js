(this.webpackJsonpsara=this.webpackJsonpsara||[]).push([[0],{1799:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),i=a.n(r),c=a(22),o=a.n(c),s=(a(322),a(323),a(17)),l=a(271),d=a(1874),u=a(39),j=a(5),b=function(e,t,a){e.selectedItem=Object(j.a)({},a)},p=function(e,t,a){e.selectedItem=Object(j.a)(Object(j.a)({},a),t.payload)},O=function(e,t){var a=Object(j.a)(Object(j.a)({},e.selectedItem),t.payload);e.selectedItem=a},g=function(e,t){e.pageable=t.payload},m=function(e,t,a){var n=Object(j.a)({},a);n.list=[t.payload],e.pageable=n},h=function(e,t){e.selectedItem=Object(j.a)(Object(j.a)({},e.selectedItem),{},{optionsList:Object(j.a)({},t.payload)})};var f=a(4),x={INIT_STATUS:f.INIT_STATUS.INIT,list:[],searchValue:"",paging:{rowsPerPage:25,totalElements:0,currentPage:0,totalPage:0}},S={currentPeriod:{id:""},optionsList:{periodList:[]}},v=Object(u.b)({name:"school",initialState:{searchValue:"",pageable:Object(j.a)({},x),selectedItem:Object(j.a)({},S)},reducers:{resetSelectedItem:function(e,t){return b(e,0,S)},setSelectedItem:function(e,t){var a=function(e){var t=Object(j.a)({},e);return null==t.currentPeriod&&(t.currentPeriod={id:""}),t}(t.payload);e.selectedItem=Object(j.a)(Object(j.a)({},S),a)},updateSelectedItem:function(e,t){return O(e,t)},setPageable:function(e,t){return g(e,t)},setPageableEntity:function(e,t){return m(e,t,x)},setOptionsList:function(e,t){return h(e,t)}}}),P=v.actions,L=P.resetSelectedItem,E=P.setSelectedItem,y=P.setPageable,I=P.setPageableEntity,R=P.updateSelectedItem,T=P.setOptionsList,A=function(e){return e.school.pageable},C=function(e){return e.school.selectedItem},_=v.reducer,N={INIT_STATUS:f.INIT_STATUS.INIT,list:[],searchValue:"",paging:{rowsPerPage:25,totalElements:0,currentPage:0,totalPage:0}},D={optionsList:{}},U=Object(u.b)({name:"codeGroups",initialState:{searchValue:"",pageable:Object(j.a)({},N),selectedItem:Object(j.a)({},D)},reducers:{resetSelectedItem:function(e,t){return b(e,0,D)},setSelectedItem:function(e,t){return p(e,t,D)},updateSelectedItem:function(e,t){return O(e,t)},setPageable:function(e,t){return g(e,t)},setPageableEntity:function(e,t){return m(e,t,N)}}}),w=U.actions,G=w.resetSelectedItem,V=w.setSelectedItem,B=(w.updateSelectedItem,w.setPageable),F=w.setPageableEntity,k=function(e){return e.codeGroups.pageable},W=function(e){return e.codeGroups.selectedItem},H=U.reducer,Y={INIT_STATUS:f.INIT_STATUS.INIT,list:[],searchValue:"",paging:{rowsPerPage:25,totalElements:0,currentPage:0,totalPage:0}},M={school:{id:""},optionsList:{schoolList:[]}},q=Object(u.b)({name:"users",initialState:{searchValue:"",pageable:Object(j.a)({},Y),selectedItem:Object(j.a)({},M)},reducers:{resetSelectedItem:function(e,t){return b(e,0,M)},setSelectedItem:function(e,t){return p(e,t,M)},updateSelectedItem:function(e,t){return O(e,t)},setPageable:function(e,t){return g(e,t)},setPageableEntity:function(e,t){return m(e,t,Y)},setOptionsList:function(e,t){return h(e,t)}}}),z=q.actions,J=z.setSelectedItem,K=(z.updateSelectedItem,z.setPageable),X=z.setPageableEntity,Q=(z.setSearchValue,z.setOptionsList),$=z.resetSelectedItem,Z=function(e){return e.users.pageable},ee=function(e){return e.users.selectedItem},te=q.reducer,ae=a(72),ne=a.n(ae),re=Object(j.a)({},f.defaultPageable),ie={level:{id:""},optionsList:{studentLevelList:[]}},ce=Object(u.b)({name:"students",initialState:{searchValue:"",pageable:Object(j.a)({},re),selectedItem:Object(j.a)({},ie)},reducers:{resetSelectedItem:function(e,t){return b(e,0,ie)},setSelectedItem:function(e,t){e.selectedItem=Object(j.a)(Object(j.a)({},t.payload),{},{birthDate:ne()(t.payload.birthDate).format("YYYY-MM-DD"),optionsList:{studentLevelList:[]}})},updateSelectedItem:function(e,t){return O(e,t)},setPageable:function(e,t){return g(e,t)},setPageableEntity:function(e,t){return m(e,t,re)},setOptionsList:function(e,t){return h(e,t)}}}),oe=ce.actions,se=oe.resetSelectedItem,le=oe.setSelectedItem,de=oe.setPageable,ue=oe.setPageableEntity,je=(oe.setSearchValue,oe.updateSelectedItem,oe.setOptionsList),be=function(e){return e.students.pageable},pe=function(e){return e.students.selectedItem},Oe=ce.reducer,ge=a(15),me=Object(j.a)({},f.defaultPageable),he={level:{id:""},period:{id:""},active:!0,list:[],optionsList:{levelList:[],periodList:[],applyToAllList:[]}},fe=Object(u.b)({name:"gradeLevels",initialState:{searchValue:"",pageable:Object(j.a)({},me),selectedItem:Object(j.a)({},he)},reducers:{resetSelectedItem:function(e,t){return b(e,0,he)},setSelectedItem:function(e,t){var a=function(e){var t=Object(j.a)({},e);return null==t.period&&(t.period={id:""}),t}(t.payload);e.selectedItem=Object(j.a)(Object(j.a)({},he),a)},setOptionsList:function(e,t){console.log("[GradeLevelSlice.setOptionsList] action=",t);var a=t.payload,n=e.selectedItem.accountPayablesSettings?e.selectedItem.accountPayablesSettings:[],r=a.applyToAllList;if(0===n.length)(n=Object(ge.a)(r)).map((function(e){return e.status="NEW"}));else{var i=[],c=[];n.map((function(e){var t=e.id;return i.push(t)})),r.map((function(e){if(-1===i.indexOf(e.id)){var t=Object(j.a)(Object(j.a)({},e),{},{status:"NEW"});c.push(t)}return e})),n=[].concat(c,Object(ge.a)(n))}e.selectedItem=Object(j.a)(Object(j.a)({},e.selectedItem),{},{list:n,optionsList:Object(j.a)({},a)})},updateSelectedItem:function(e,t){return O(e,t)},setPageable:function(e,t){return g(e,t)},setPageableEntity:function(e,t){return m(e,t,me)}}}),xe=fe.actions,Se=xe.setSelectedItem,ve=xe.resetSelectedItem,Pe=xe.setOptionsList,Le=xe.updateSelectedItem,Ee=xe.setPageable,ye=xe.setPageableEntity,Ie=(xe.setSearchValue,function(e){return e.gradeLevels.pageable}),Re=function(e){return e.gradeLevels.selectedItem},Te=fe.reducer,Ae={INIT_STATUS:f.INIT_STATUS.INIT,list:[],searchValue:"",paging:{rowsPerPage:25,totalElements:0,currentPage:0,totalPage:0}},Ce={period:{id:""},paymentPeriod:{id:""},optionsList:{paymentPeriodList:[],periodList:[]}},_e=Object(u.b)({name:"accountPayablesSettings",initialState:{searchValue:"",pageable:Object(j.a)({},Ae),selectedItem:Object(j.a)({},Ce)},reducers:{resetSelectedItem:function(e,t){return b(e,0,Ce)},setSelectedItem:function(e,t){return p(e,t,Ce)},updateSelectedItem:function(e,t){return O(e,t)},setPageable:function(e,t){return g(e,t)},setPageableEntity:function(e,t){return m(e,t,Ae)},setOptionsList:function(e,t){return h(e,t)}}}),Ne=_e.actions,De=Ne.resetSelectedItem,Ue=Ne.setSelectedItem,we=(Ne.updateSelectedItem,Ne.setPageable),Ge=Ne.setPageableEntity,Ve=Ne.setOptionsList,Be=function(e){return e.accountPayablesSettings.pageable},Fe=function(e){return e.accountPayablesSettings.selectedItem},ke=_e.reducer,We={billingSearchBy:[{id:"1",value:"LRN",label:"LRN"},{id:"2",value:"STUDENT_NAME",label:"Student Name"}]},He={INIT_STATUS:f.INIT_STATUS.INIT,list:[],searchValue:"",searchBy:"",searchFlag:!0,payablesFlag:!1,paging:{rowsPerPage:25,totalElements:0,currentPage:0,totalPage:0},optionsList:We},Ye={studentId:"",firstName:"",lastName:"",level:{id:"",value:"",description:""},school:{id:""}},Me={INIT_STATUS:f.INIT_STATUS.INIT,entity:{studentId:"",firstName:"",lastName:"",level:{id:"",value:"",description:""}},payables:[],payablesByInvoiceNo:[],open:!1},qe=Object(u.b)({name:"billing",initialState:{pageable:Object(j.a)({},He),selectedItem:Object(j.a)({},Ye),confirmPayables:Object(j.a)({},Me)},reducers:{resetSelectedItem:function(e,t){return b(e,0,Ye)},setSelectedItem:function(e,t){return p(e,t,Ye)},updateSelectedItem:function(e,t){return O(e,t)},setPageable:function(e,t){return g(e,t)},updatePageable:function(e,t){return function(e,t){e.pageable=Object(j.a)(Object(j.a)({},e.pageable),t.payload)}(e,t)},setPageableEntity:function(e,t){return m(e,t,He)},setOptionsList:function(e,t){return h(e,t)},setConfirmPayables:function(e,t){console.log("[BillingSlice.setConfirmPayables] action.payload==>",t.payload),console.log("[BillingSlice.setConfirmPayables] 1 state.confirmPayables==>",e.confirmPayables),e.confirmPayables=Object(j.a)({},t.payload),console.log("[BillingSlice.setConfirmPayables] 2 state.confirmPayables==>",e.confirmPayables)},updateConfirmPayables:function(e,t){console.log("[BillingSlice.updateConfirmPayables] action.payload==>",t.payload),console.log("[BillingSlice.updateConfirmPayables] 1 state.confirmPayables==>",e.confirmPayables),e.confirmPayables=Object(j.a)(Object(j.a)({},e.confirmPayables),t.payload),console.log("[BillingSlice.updateConfirmPayables] 2 state.confirmPayables==>",e.confirmPayables)}}}),ze=qe.actions,Je=(ze.setSelectedItem,ze.updateSelectedItem,ze.setPageable),Ke=ze.updatePageable,Xe=(ze.setPageableEntity,ze.setSearchValue,ze.setOptionsList,ze.resetSelectedItem,ze.setConfirmPayables,ze.updateConfirmPayables,function(e){return e.billing.pageable}),Qe=qe.reducer,$e=Object(j.a)({},f.defaultPageable),Ze={level:{id:""},period:{id:""},active:!0,list:[],optionsList:{levelList:[],periodList:[],applyToAllList:[]}},et=Object(u.b)({name:"processing",initialState:{searchValue:"",pageable:Object(j.a)({},$e),selectedItem:Object(j.a)({},Ze)},reducers:{resetSelectedItem:function(e,t){return b(e,0,Ze)},setSelectedItem:function(e,t){var a=function(e){var t=Object(j.a)({},e);return null==t.period&&(t.period={id:""}),t}(t.payload);e.selectedItem=Object(j.a)(Object(j.a)({},Ze),a)},setOptionsList:function(e,t){console.log("[ProcessingSlice.setOptionsList] action=",t);var a=t.payload,n=e.selectedItem.accountPayablesSettings?e.selectedItem.accountPayablesSettings:[],r=a.applyToAllList;if(0===n.length)(n=Object(ge.a)(r)).map((function(e){return e.status="NEW"}));else{var i=[],c=[];n.map((function(e){var t=e.id;return i.push(t)})),r.map((function(e){if(-1===i.indexOf(e.id)){var t=Object(j.a)(Object(j.a)({},e),{},{status:"NEW"});c.push(t)}return e})),n=[].concat(c,Object(ge.a)(n))}e.selectedItem=Object(j.a)(Object(j.a)({},e.selectedItem),{},{list:n,optionsList:Object(j.a)({},a)})},updateSelectedItem:function(e,t){return O(e,t)},setPageable:function(e,t){return g(e,t)},setPageableEntity:function(e,t){return m(e,t,$e)}}}),tt=et.actions,at=tt.setSelectedItem,nt=(tt.resetSelectedItem,tt.setOptionsList,tt.updateSelectedItem,tt.setPageable),rt=(tt.setPageableEntity,tt.setSearchValue,function(e){return e.processing.pageable}),it=et.reducer,ct=Object(u.a)({reducer:{school:_,codeGroups:H,users:te,students:Oe,gradeLevels:Te,accountPayablesSettings:ke,billing:Qe,processing:it}}),ot=a(43),st=a(31),lt=a(1863),dt=a(1873),ut=a(41),jt=a(57),bt=a(56),pt=function(e){Object(jt.a)(a,e);var t=Object(bt.a)(a);function a(){var e;Object(ut.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).render=function(){return Object(n.jsx)("div",{className:"container",children:"Oooops!!!"})},e}return a}(i.a.Component),Ot=a(1875),gt=a(1843),mt=a(76);function ht(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(Ot.a,{mx:"auto",pt:3,children:[Object(n.jsx)(gt.a,{}),Object(n.jsxs)(mt.a,{variant:"body2",color:"textSecondary",align:"center",children:["Sara Project"," "," "," \xa9 ",(new Date).getFullYear()]})]})})}var ft=function(e){Object(jt.a)(a,e);var t=Object(bt.a)(a);function a(){var e;Object(ut.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).render=function(){return Object(n.jsx)(Ot.a,{mt:8,children:Object(n.jsx)(ht,{})})},e}return a}(i.a.Component),xt=a(9),St=a(24),vt=a(1850),Pt=a(1851),Lt=a(1846),Et=a(1852),yt=a(276),It=a(1853),Rt=a(1854),Tt=a(1801),At=a(1855),Ct=a(275),_t=a(136),Nt=a.n(_t),Dt=a(32),Ut=a.n(Dt),wt=a(135),Gt=a.n(wt),Vt=a(134),Bt=a.n(Vt),Ft=a(1879),kt=function(e){return Object(n.jsx)(Ft.a,{rowsPerPageOptions:[5,10,25,50,100],component:"div",page:e.paging.currentPage,count:e.paging.totalElements,rowsPerPage:e.paging.rowsPerPage,onChangePage:e.onChangePage,onChangeRowsPerPage:e.onChangeRowsPerPage})};function Wt(e){var t=e.showPaging,a=void 0===t||t,i=e.showSearch,c=void 0===i||i,o=e.showAction,s=void 0===o||o,l=Object(St.b)().register,d=Object(r.useState)(0),u=Object(xt.a)(d,2),j=u[0],b=u[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[c&&Object(n.jsx)(vt.a,{item:!0,xs:12,sm:8,children:Object(n.jsxs)(Pt.a,{variant:"filled",children:[Object(n.jsx)(Lt.a,{name:"searchValue",defaultValue:e.store.searchValue,onKeyDown:function(t){return function(t){"Enter"===t.key&&(e.doSearch(t.target.value),t.preventDefault()),b(j+1)}(t)},placeholder:"Search",inputRef:l,endAdornment:Object(n.jsx)(Bt.a,{onClick:function(){return e.doRetrieve()}})}),e.children]})}),a&&Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(kt,{paging:e.store.paging,onChangePage:e.onChangePage,onChangeRowsPerPage:e.onChangeRowsPerPage})})]}),Object(n.jsx)(Et.a,{component:yt.a,elevation:3,variant:"elevation",children:Object(n.jsxs)(It.a,{children:[Object(n.jsx)(Rt.a,{children:Object(n.jsxs)(f.StyledTableHeadRow,{children:[e.cols.map((function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(f.StyledTableHeadCell,{children:e.headerName},e.field)})})),s&&Object(n.jsxs)(f.StyledTableHeadCell,{align:"right",children:["Action",Object(n.jsx)(Tt.a,{"aria-label":"add",onClick:function(){return e.doNew()},children:Object(n.jsx)(Ut.a,{fontSize:"large"})})]})]})}),Object(n.jsx)(At.a,{children:e.store.list.map((function(t){return Object(n.jsxs)(f.StyledTableRow,{children:[e.cols.map((function(e){return Object(n.jsx)(Ct.a,{children:e.render?e.render(t):t[e.field]})})),s&&Object(n.jsxs)(Ct.a,{align:"right",children:[Object(n.jsx)(Tt.a,{"aria-label":"edit",onClick:function(){return e.doEdit(t)},children:Object(n.jsx)(Gt.a,{fontSize:"large"})}),Object(n.jsx)(Tt.a,{"aria-label":"delete",onClick:function(){return e.doDelete(t.id)},children:Object(n.jsx)(Nt.a,{fontSize:"large"})})]})]},t.id)}))})]})}),e.showPaging&&Object(n.jsx)(kt,{paging:e.store.paging,doHandleChangePage:e.doHandleChangePage,doHandleChangeRowsPerPage:e.doHandleChangeRowsPerPage})]})}var Ht=a(14),Yt=a.n(Ht),Mt="user",qt=function(e){return Object(n.jsx)(Ot.a,{pb:1,children:Object(n.jsx)(mt.a,{variant:"h4",children:e.children})})},zt=Object(r.createContext)();function Jt(){var e=Object(r.useContext)(zt);if(!e)throw new Error("useGlobalVariable must be used within an GlobalVariableProvider");return e}function Kt(e){var t={userName:"",userFullName:"Guest",schoolName:"SARA PROJECT",schoolAddress:"",schoolLogo:"",schoolId:""},a=Object(r.useState)(t),i=Object(xt.a)(a,2),c=i[0],o=i[1],s=Object(r.useState)({ui:{darkMode:!1},alert:{title:"",label:"Ok",open:!1,severity:"info",msg:"",value:{}}}),l=Object(xt.a)(s,2),d=l[0],u=l[1],b={globalProps:d,USER_TEMP:t,userLogin:c,clearUser:function(){o(t)},setUserLogin:o,setAlertProps:function(e){u(Object(j.a)(Object(j.a)({},d),{},{alert:Object(j.a)(Object(j.a)({},d.alert),e)}))},setUIProps:function(e){u(Object(j.a)(Object(j.a)({},d),{},{ui:Object(j.a)(Object(j.a)({},d.ui),e)}))}};return Object(n.jsx)(zt.Provider,Object(j.a)({value:b},e))}var Xt=function(){var e=Jt(),t=e.globalProps,a=e.setAlertProps,n=function(e,t,n){a({title:e,open:!0,severity:n,msg:t})},r=function(e,t,a,n){console.error("[useMessageAlert.getFormatedErrorMessage] error=>",JSON.stringify(e));var r="Error (".concat(t,"): ").concat(e.message," ");return console.error("[".concat(a,"] ").concat(n," error "),JSON.stringify(e)),e.message&&(console.error("[useMessageAlert.getFormatedErrorMessage] error.message=>",JSON.stringify(e.message)),r=e.message),e.response&&(console.error("[useMessageAlert.getFormatedErrorMessage] error.response=>",JSON.stringify(e.response)),console.log("error.response.data",e.response.data),console.log("error.response.status",e.response.status),console.log("error.response.headers",e.response.headers),r=e.response.data.error&&e.response.data.status?"[".concat(e.response.data.status,": ").concat(e.response.data.error,"] - ").concat(e.response.data.message):"".concat(e.response.data)),console.error("[".concat(a,"] ").concat(n," error msg: ").concat(r)),r};return{props:t.alert,getFormatedErrorMessage:r,closeMsgAlert:function(){a({open:!1})},showErrorMsgAlert:function(e,t,a,i){var c=r(e,t,a,i);n("Error",c,"error")},showErrorAlert:function(e){n("Error",e,"error")},showInfoAlert:function(e){n("Information",e,"info")},showWarningAlert:function(e){n("Warning",e,"warning")},showSuccessAlert:function(e){n("Alert",e,"success")}}},Qt=a(1856),$t=a(1857),Zt=a(1858),ea=a(1859),ta=a(1860),aa=a(1861),na=a(1877);function ra(e){var t=e.open,a=e.closeDialog,r=e.title,i=e.msg,c=e.type,o=void 0===c?f.OPTIONS.YESNO:c,s=function(t){e.closeDialog(),e.setDialogSelection(t)};return Object(n.jsxs)(n.Fragment,{children:[console.log("[ConfirmMsgDialog.return] type=".concat(o)),Object(n.jsxs)(Qt.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)($t.a,{id:"alert-dialog-title",children:Object(n.jsx)(na.a,{severity:"info",align:"right",children:Object(n.jsx)(mt.a,{variant:"h6",children:r})})}),Object(n.jsx)(Zt.a,{children:Object(n.jsx)(ea.a,{id:"alert-dialog-description",children:i})}),Object(n.jsxs)(ta.a,{children:[o===f.OPTIONS.YESNO&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(aa.a,{onClick:function(){return s(f.OPTIONS.YES)},children:f.OPTIONS.YES}),Object(n.jsx)(aa.a,{onClick:function(){return s(f.OPTIONS.NO)},children:f.OPTIONS.NO})]}),o===f.OPTIONS.OKCANCEL&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(aa.a,{onClick:function(){return s(f.OPTIONS.OK)},children:f.OPTIONS.OK}),Object(n.jsx)(aa.a,{onClick:function(){return s(f.OPTIONS.CANCEL)},children:f.OPTIONS.CANCEL})]})]})]})]})}function ia(e){var t=Xt().showErrorMsgAlert,a=Object(s.b)(),i=Object(s.c)(Z),c=Object(r.useState)(!1),o=Object(xt.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(),b=Object(xt.a)(u,2),p=b[0],O=b[1];Object(r.useEffect)((function(){a($())}),[]);var g=function(e){var n=e.searchValue,r=e.paging;return function(e,t,a){return Yt.a.get("".concat(f.default.urlListPattern(Mt),"?searchValue=").concat(e,"&page=").concat(t,"&size=").concat(a,"&sort=").concat("lastName, firstName"))}(n,r.currentPage,r.rowsPerPage).then((function(e){var t=e.data;a(K({INIT_STATUS:f.INIT_STATUS.LOAD,list:t.pagingList.content,searchValue:n,paging:{rowsPerPage:t.pagingList.size,currentPage:t.pagingList.pageable.pageNumber,totalElements:t.pagingList.totalElements,totalPage:t.pagingList.totalPage}}))})).catch((function(e){return t(e,f.ERROR_CODE.LIST_ERROR,"EndUserListComponent.retrieve","EndUserService.getList")}))},m=function(){return g({searchValue:i.searchValue,paging:i.paging})},h=function(e){return function(e){return Yt.a.delete("".concat(f.default.urlDeletePattern(Mt),"/").concat(e))}(e).then(m).catch((function(e){return t(e,f.ERROR_CODE.LIST_ERROR,"EndUserListComponent.retrieve","EndUserService.deleteItem")}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qt,{children:"Users"}),Object(n.jsx)(Wt,{store:i,cols:[{field:"firstName",headerName:"First Name"},{field:"lastName",headerName:"Last Name",render:function(e){return e.firstName+" "+e.lastName}}],onChangePage:function(e,t){return g({searchValue:i.searchValue,paging:Object(j.a)(Object(j.a)({},i.paging),{},{currentPage:t})})},onChangeRowsPerPage:function(e){return g({searchValue:i.searchValue,paging:Object(j.a)(Object(j.a)({},i.paging),{},{rowsPerPage:e.target.value,currentPage:0})})},doRetrieve:m,doEdit:function(t){a(J(t)),e.history.push("".concat(f.PAGE_URL.USER_DETAIL_URL))},doNew:function(){a($()),e.history.push("".concat(f.PAGE_URL.USER_DETAIL_URL,"/-1"))},doDelete:function(e){O(e),d(!0)},doSearch:function(e){return g({searchValue:e,paging:Object(j.a)({},i.paging)})}}),Object(n.jsx)(ra,{open:l,title:"Confirm delete",msg:"Are you sure you want to delete?",closeDialog:function(){d(!1)},setDialogSelection:function(e){console.log("[CodeGroupsListComponent.setDeleteDialogSelection] value=".concat(e)),e===f.OPTIONS.YES&&h(p),O(null)}})]})}var ca=a(37),oa=a.n(ca),sa=a(30),la=a.n(sa),da=a(1881),ua=a(1844),ja=function(e){var t=Object(St.b)(),a=t.control,i=t.register,c=t.handleSubmit,o=Object(r.useState)(f.INIT_STATUS.LOAD),s=Object(xt.a)(o,2),l=s[0],d=s[1],u=Object(st.g)();return Object(r.useEffect)((function(){l===f.INIT_STATUS.LOAD&&(e.doRetrieve(e.store.entityId),d(f.INIT_STATUS.RESET))}),[e.store]),Object(n.jsxs)(n.Fragment,{children:[console.log("[EndUserDetailHtml.return] props.store==>",e.store),Object(n.jsx)(qt,{children:"User Detail"}),e.message&&Object(n.jsx)(na.a,{severity:"info",children:e.message}),Object(n.jsxs)("form",{onSubmit:c(e.onSubmitForm),children:[Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:9}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",href:f.PAGE_URL.USER_DETAIL_URL+"/-1",startIcon:Object(n.jsx)(Ut.a,{}),children:"New"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",onClick:function(){return u.push(f.PAGE_URL.USER_LIST)},startIcon:Object(n.jsx)(oa.a,{}),children:"Cancel"})})]}),Object(n.jsx)(da.a,{type:"hidden",name:"id",inputRef:i,defaultValue:e.store.id}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(da.a,{required:!0,id:"userName",name:"userName",label:"User Name",fullWidth:!0,autoComplete:"user-userName",variant:"filled",autoFocus:!0,InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.userName})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(da.a,{id:"password",type:"password",name:"password",label:"Password",fullWidth:!0,autoComplete:"user-password",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.password})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(da.a,{required:!0,id:"firstName",name:"firstName",label:"First Name",fullWidth:!0,autoComplete:"user-firstName",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.firstName})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:612,children:Object(n.jsx)(da.a,{required:!0,id:"lastName",name:"lastName",label:"Last Name",fullWidth:!0,autoComplete:"user-lastName",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.lastName})})]}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(Ot.a,{pt:3,children:Object(n.jsx)(St.a,{as:Object(n.jsx)(da.a,{id:"school",required:!0,select:!0,label:"School",fullWidth:!0,autoComplete:"student-school",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,children:e.store.optionsList.schoolList.map((function(e){return Object(n.jsx)(ua.a,{value:e.id,children:e.name},e.id)}))}),name:"school.id",control:a,defaultValue:e.store.school.id,options:e.store.optionsList.studentLevelList})})}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:9}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",href:f.PAGE_URL.USER_DETAIL_URL+"/-1",startIcon:Object(n.jsx)(Ut.a,{}),children:"New"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",onClick:function(){return u.push(f.PAGE_URL.USER_LIST)},startIcon:Object(n.jsx)(oa.a,{}),children:"Cancel"})})]})]})]})};function ba(e){var t=Xt().showErrorMsgAlert,a=Object(r.useState)(""),i=Object(xt.a)(a,2),c=i[0],o=i[1],l=Object(s.b)(),d=Object(s.c)(ee);return Object(n.jsx)(ja,{store:d,doRetrieve:function(){-1==e.match.params.id&&l($()),o("Loading. Please wait..."),Yt.a.get("".concat(f.default.urlOptionsPattern(Mt))).then((function(e){l(Q(e.data.listService)),o("")})).catch((function(e){return t(e,f.ERROR_CODE.RETRIEVE_ERROR,"EndUserDetailComponent.doRetrieve","EndUserService.getOptions")}))},onSubmitForm:function(a){o("Saving..."),function(e){return console.log("[EndUserService.save] data=",e),Yt.a.post("".concat(f.default.urlSavePattern(Mt)),e)}(a).then((function(t){l(X(t.data.entity)),o(""),e.history.push(f.PAGE_URL.USER_LIST)})).catch((function(e){return t(e,f.ERROR_CODE.SAVE_ERROR,"EndUserDetailComponent.onSubmitForm","EndUserService.save")}))},message:c})}var pa,Oa=a(35),ga=a.n(Oa),ma=a(54),ha=function(){var e=Jt(),t=e.userLogin,a=e.setUserLogin,n=e.clearUser,r=function(){var e=i();return"Bearer ".concat(e)},i=function(){return sessionStorage.getItem(f.JWT_TOKEN)},c=function(e){console.log("[useSecurityServices.setupAxiosInterceptors] init.."),console.log("[useSecurityServices.setupAxiosInterceptors] authHeader: ".concat(e)),pa=Yt.a.interceptors.request.use(function(){var t=Object(ma.a)(ga.a.mark((function t(a){return ga.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o()&&(a.headers.authorization=e),t.abrupt("return",a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),console.log("[useSecurityServices.setupAxiosInterceptors] done!")},o=function(){return null!=s()},s=function(){return sessionStorage.getItem(f.AUTH_USER)},l=function(){var e=JSON.parse(sessionStorage.getItem(f.AUTH_USER_OBJ));return console.error("[useSecurityServices.getLoggedUserObj] 1 user=>",e),e||(e=null),console.error("[useSecurityServices.getLoggedUserObj] 2 user=>",e),e};return{initAxios:function(){if(o()){var e=r();c(e)}},initUser:function(){var e=l();null==e?n():a(e)},executeJwtAuthenticationService:function(e,t){return console.log("[useSecurityServices.executeJwtAuthenticationService]"),Yt.a.post("".concat(f.AUTH_URL_BASE),{username:e,password:t})},registerJwtSucessfulLogin:function(e,t){console.log("[useSecurityServices.registerJwtSucessfulLogin] jwtToken=",t),console.log("[useSecurityServices.registerJwtSucessfulLogin] userObj=",e),sessionStorage.setItem(f.AUTH_USER_OBJ,JSON.stringify(e)),sessionStorage.setItem(f.AUTH_USER,e.userName),sessionStorage.setItem(f.JWT_TOKEN,t);var a=r();c(a)},getLoggedUserObj:l,isUserLoggedIn:o,logout:function(){Yt.a.interceptors.request.eject(pa),sessionStorage.removeItem(f.AUTH_USER),sessionStorage.removeItem(f.AUTH_USER_OBJ),sessionStorage.removeItem(f.JWT_TOKEN),n(),console.log("[useSecurityServices.logout]  userLogin=>",t)}}},fa=function(e){var t=(0,ha().isUserLoggedIn)();return console.log("[AuthenticatedRoute] isLoggedin=>",t),t?Object(n.jsx)(st.b,Object(j.a)({},e)):Object(n.jsx)(st.a,{to:"/login"})},xa=a(1884),Sa=a(246),va=a.n(Sa),Pa=a(1864),La=Object(lt.a)((function(e){return{content:{backgroundColor:"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900],flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},login_paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},login_avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},login_form:{width:"100%",marginTop:e.spacing(1)},login_submit:{margin:e.spacing(3,0,2)},avatar_40:{width:e.spacing(40),height:e.spacing(40)},avatar_70:{width:e.spacing(70),height:e.spacing(70)}}})),Ea=(new function e(){Object(ut.a)(this,e)},function(e){var t=La(),a=Object(St.b)(),r=a.register,i=a.handleSubmit;return Object(n.jsx)(Pa.a,{component:"main",maxWidth:"xs",children:Object(n.jsxs)("div",{className:t.login_paper,children:[Object(n.jsx)(xa.a,{className:t.login_avatar,children:Object(n.jsx)(va.a,{})}),Object(n.jsx)(mt.a,{component:"h1",variant:"h5",children:"Sign in"}),e.message&&Object(n.jsx)(na.a,{severity:"error",children:e.message}),Object(n.jsxs)("form",{className:t.login_form,onSubmit:i((function(t){e.onSignon(t.userName,t.password)})),children:[Object(n.jsx)(da.a,{type:"text",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"userName",label:"User Name",name:"userName",autoComplete:"userName",autoFocus:!0,inputRef:r}),Object(n.jsx)(da.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",inputRef:r}),Object(n.jsx)(aa.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"})]})]})})});function ya(){var e=Jt(),t=e.userLogin,a=e.setUserLogin,i=Xt().showErrorMsgAlert,c=ha(),o=c.executeJwtAuthenticationService,s=c.registerJwtSucessfulLogin,l=Object(r.useState)(""),d=Object(xt.a)(l,2),u=d[0],b=d[1],p=Object(st.g)();return Object(n.jsx)(Ea,{message:u,onSignon:function(e,n){console.error("[SignInComponent.onSignon] userName=".concat(e)),b(""),o(e,n).then((function(e){var n=Object(j.a)(Object(j.a)({},e.data.userDetails),{},{isLoggedIn:!0});s(n,e.data.token),a(n),console.error("[SignInComponent.onSignon useSec.registerJwtSucessfulLogin] userDetails=",n),console.error("[SignInComponent.onSignon useSec.registerJwtSucessfulLogin] userLogin=",t),b("Login Successful!"),p.push("/")})).catch((function(e){return i(e,f.ERROR_CODE.LOGIN_ERROR,"SignInComponent.onSignon","useAuthServices.executeJwtAuthenticationService")}))}})}function Ia(){var e=Jt().userLogin,t=ha().logout;return Object(r.useEffect)((function(){console.log("[LogoutComponent.useEffect]: userLogin",e),t()})),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{children:"You are logged out"}),Object(n.jsx)("div",{className:"container",children:"Thank you. Come again!"})]})}var Ra="codeGroups";function Ta(e){var t=Xt().showErrorMsgAlert,a=Object(s.b)(),i=Object(s.c)(k),c=Object(r.useState)(!1),o=Object(xt.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(),b=Object(xt.a)(u,2),p=b[0],O=b[1];Object(r.useEffect)((function(){a(G())}),[]);var g=function(e){var n=e.searchValue,r=e.paging;return function(e,t,a){return Yt.a.get("".concat(f.default.urlListPattern(Ra),"?searchValue=").concat(e,"&page=").concat(t,"&size=").concat(a,"&sort=").concat("code,priority,description"))}(n,r.currentPage,r.rowsPerPage).then((function(e){var t=e.data;a(B({INIT_STATUS:f.INIT_STATUS.LOAD,list:t.pagingList.content,searchValue:n,paging:{rowsPerPage:t.pagingList.size,currentPage:t.pagingList.pageable.pageNumber,totalElements:t.pagingList.totalElements,totalPage:t.pagingList.totalPage}}))})).catch((function(e){return t(e,f.ERROR_CODE.LIST_ERROR,"CodeGroupsListComponent.retrieve","CodeGroupsService.getList")}))},m=function(){return g({searchValue:i.searchValue,paging:i.paging})},h=function(e){return function(e){return Yt.a.delete("".concat(f.default.urlDeletePattern(Ra),"/").concat(e))}(e).then(m).catch((function(e){return t(e,f.ERROR_CODE.DELETE_ERROR,"CodeGroupsListComponent.doDelete","CodeGroupsService.deleteItem")}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qt,{children:"Code Groups List"}),Object(n.jsx)(Wt,{store:i,cols:[{field:"code",headerName:"Code"},{field:"value",headerName:"Value"},{field:"description",headerName:"Description"},{field:"priority",headerName:"Priority"}],onChangePage:function(e,t){return g({searchValue:i.searchValue,paging:Object(j.a)(Object(j.a)({},i.paging),{},{currentPage:t})})},onChangeRowsPerPage:function(e){return g({searchValue:i.searchValue,paging:Object(j.a)(Object(j.a)({},i.paging),{},{rowsPerPage:e.target.value,currentPage:0})})},doRetrieve:m,doEdit:function(t){a(V(t)),e.history.push("".concat(f.PAGE_URL.CODE_GROUPS_DETAIL_URL))},doNew:function(){return e.history.push("".concat(f.PAGE_URL.CODE_GROUPS_DETAIL_URL,"/-1"))},doDelete:function(e){O(e),d(!0)},doSearch:function(e){return g({searchValue:e,paging:Object(j.a)({},i.paging)})}}),Object(n.jsx)(ra,{open:l,title:"Confirm delete",msg:"Are you sure you want to delete?",closeDialog:function(){d(!1)},setDialogSelection:function(e){console.log("[CodeGroupsListComponent.setDeleteDialogSelection] value=".concat(e)),e===f.OPTIONS.YES&&h(p),O(null)}})]})}function Aa(e){var t=Xt().showErrorMsgAlert,a=Object(s.b)(),i=Object(st.g)(),c=Object(St.b)(),o=c.register,l=c.handleSubmit,d=Object(r.useState)("Loading. Please wait..."),u=Object(xt.a)(d,2),j=u[0],b=u[1],p=Object(s.c)(W),O=Object(r.useState)(f.INIT_STATUS.INIT),g=Object(xt.a)(O,2),m=g[0],h=g[1];Object(r.useEffect)((function(){m===f.INIT_STATUS.INIT&&(-1===e.match.params.id&&a(G()),h(f.INIT_STATUS.LOAD))}),[p,m]);return Object(n.jsxs)(n.Fragment,{children:[console.log("[CodeGroupsDetailComponent.render] selectedItem==>",p),Object(n.jsx)(qt,{children:"Code Groups Detail"}),j&&Object(n.jsx)(na.a,{severity:"info",children:j}),Object(n.jsxs)("form",{onSubmit:l((function(e){b("Saving..."),function(e){return Yt.a.post("".concat(f.default.urlSavePattern(Ra)),e)}(e).then((function(e){a(F(e.data.entity)),b(""),i.push(f.PAGE_URL.CODE_GROUPS_LIST)})).catch((function(e){return t(e,f.ERROR_CODE.SAVE_ERROR,"CodeGroupsDetailComponent.save","CodeGroupsService.save")}))})),children:[Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:9}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",href:f.PAGE_URL.CODE_GROUPS_DETAIL_URL+"/-1",startIcon:Object(n.jsx)(Ut.a,{}),children:"New"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",onClick:function(){return i.push(f.PAGE_URL.CODE_GROUPS_LIST)},startIcon:Object(n.jsx)(oa.a,{}),children:"Cancel"})})]}),Object(n.jsx)(da.a,{type:"hidden",name:"id",inputRef:o,defaultValue:p.id}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(da.a,{required:!0,id:"code",name:"code",label:"Code",fullWidth:!0,autoComplete:"code-groups-code",autoFocus:!0,variant:"filled",InputLabelProps:{shrink:!0},inputRef:o,defaultValue:p.code})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:5,children:Object(n.jsx)(da.a,{required:!0,id:"value",name:"value",label:"Value",fullWidth:!0,autoComplete:"code-groups-value",variant:"filled",InputLabelProps:{shrink:!0},inputRef:o,defaultValue:p.value})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(da.a,{required:!0,type:"number",id:"priority",name:"priority",label:"priority",fullWidth:!0,autoComplete:"code-groups-priority",variant:"filled",InputLabelProps:{shrink:!0},inputRef:o,defaultValue:p.priority})}),Object(n.jsxs)(vt.a,{item:!0,xs:12,sm:12,children:[Object(n.jsx)(da.a,{required:!0,id:"description",name:"description",label:"Description",fullWidth:!0,autoComplete:"code-groups-description",variant:"filled",InputLabelProps:{shrink:!0},inputRef:o,defaultValue:p.description}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:12,children:"\xa0"}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(da.a,{multiline:!0,rows:4,id:"json",name:"json",label:"JSON",fullWidth:!0,autoComplete:"code-groups-json",variant:"filled",InputLabelProps:{shrink:!0},inputRef:o,defaultValue:p.json})})]})]}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:9}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",href:f.PAGE_URL.CODE_GROUPS_DETAIL_URL+"/-1",startIcon:Object(n.jsx)(Ut.a,{}),children:"New"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",onClick:function(){return i.push(f.PAGE_URL.CODE_GROUPS_LIST)},startIcon:Object(n.jsx)(oa.a,{}),children:"Cancel"})})]})]})]})}a(147);var Ca=a(50),_a=a(28),Na=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}];(function(e){Object(jt.a)(a,e);var t=Object(bt.a)(a);function a(){return Object(ut.a)(this,a),t.apply(this,arguments)}return Object(Ca.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(_a.f,{width:500,height:300,data:Na,margin:{top:5,right:30,left:20,bottom:5},children:[Object(n.jsx)(_a.c,{strokeDasharray:"3 3"}),Object(n.jsx)(_a.h,{dataKey:"name"}),Object(n.jsx)(_a.i,{}),Object(n.jsx)(_a.g,{}),Object(n.jsx)(_a.d,{}),Object(n.jsx)(_a.e,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),Object(n.jsx)(_a.e,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})]})}}]),a}(r.PureComponent)).jsfiddleUrl="https://jsfiddle.net/alidingling/xqjtetw0/";var Da=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}];(function(e){Object(jt.a)(a,e);var t=Object(bt.a)(a);function a(){return Object(ut.a)(this,a),t.apply(this,arguments)}return Object(Ca.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(_a.b,{width:500,height:300,data:Da,margin:{top:20,right:30,left:20,bottom:5},children:[Object(n.jsx)(_a.c,{strokeDasharray:"3 3"}),Object(n.jsx)(_a.h,{dataKey:"name"}),Object(n.jsx)(_a.i,{}),Object(n.jsx)(_a.g,{}),Object(n.jsx)(_a.d,{}),Object(n.jsx)(_a.a,{dataKey:"pv",stackId:"a",fill:"#8884d8"}),Object(n.jsx)(_a.a,{dataKey:"uv",stackId:"a",fill:"#82ca9d"})]})}}]),a}(r.PureComponent)).jsfiddleUrl="https://jsfiddle.net/alidingling/90v76x08/";var Ua=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],wa=function(e){return"Page A"===e?"Page A is about men's clothing":"Page B"===e?"Page B is about women's dress":"Page C"===e?"Page C is about women's bag":"Page D"===e?"Page D is about household goods":"Page E"===e?"Page E is about food":"Page F"===e?"Page F is about baby food":void 0},Ga=function(e){var t=e.active,a=e.payload,r=e.label;return t?Object(n.jsxs)("div",{className:"custom-tooltip",children:[Object(n.jsx)("p",{className:"label",children:"".concat(r," : ").concat(a[0].value)}),Object(n.jsx)("p",{className:"intro",children:wa(r)}),Object(n.jsx)("p",{className:"desc",children:"Anything you want can be displayed here."})]}):null};function Va(){La();console.log("[Dashboard] process.env.NODE_ENV= ".concat("production")),console.log("[Dashboard] URL_BASE= ".concat(f.URL_BASE));var e=ha().isUserLoggedIn();return console.log("[Dashboard] isLogin=".concat(e)),Object(n.jsx)(mt.a,{variant:"h4",children:"Welcome to Sara Project"})}(function(e){Object(jt.a)(a,e);var t=Object(bt.a)(a);function a(){return Object(ut.a)(this,a),t.apply(this,arguments)}return Object(Ca.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(_a.b,{width:500,height:300,data:Ua,margin:{top:5,right:30,left:20,bottom:5},children:[Object(n.jsx)(_a.c,{strokeDasharray:"3 3"}),Object(n.jsx)(_a.h,{dataKey:"name"}),Object(n.jsx)(_a.i,{}),Object(n.jsx)(_a.g,{content:Object(n.jsx)(Ga,{})}),Object(n.jsx)(_a.d,{}),Object(n.jsx)(_a.a,{dataKey:"pv",barSize:20,fill:"#8884d8"})]})}}]),a}(r.PureComponent)).jsfiddleUrl="https://jsfiddle.net/alidingling/vxq4ep63/";var Ba=a(10),Fa=a(7),ka=a(1868),Wa=a(1845),Ha=a(1869),Ya=a(1870),Ma=a(269),qa=a.n(Ma),za=a(140),Ja=a.n(za),Ka=a(42),Xa=a(1885),Qa=a(268),$a=a.n(Qa),Za=a(267),en=a.n(Za),tn=a(1849),an=a(1802),nn=a(1865),rn=a(1866),cn=a(1867),on=a(261),sn=a.n(on),ln=a(262),dn=a.n(ln),un=a(257),jn=a.n(un),bn=a(139),pn=a.n(bn),On=a(258),gn=a.n(On),mn=a(259),hn=a.n(mn),fn=a(265),xn=a.n(fn),Sn=a(266),vn=a.n(Sn),Pn=a(255),Ln=a.n(Pn),En=a(256),yn=a.n(En),In=a(260),Rn=a.n(In),Tn=a(264),An=a.n(Tn),Cn=a(263),_n=a.n(Cn),Nn=Object(lt.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}}));function Dn(){var e=(0,ha().isUserLoggedIn)(),t=Object(st.g)(),a=Nn(),r=i.a.useState({}),c=Object(xt.a)(r,2),o=c[0],s=c[1];return Object(n.jsxs)(tn.a,{component:"nav","aria-labelledby":"nested-list-subheader",children:[e&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(an.a,{button:!0,onClick:function(){return t.push(f.PAGE_URL.BILLING)},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(pn.a,{})}),Object(n.jsx)(rn.a,{primary:"Billing"})]}),Object(n.jsxs)(an.a,{button:!0,onClick:function(){return t.push(f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_LIST)},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(Ln.a,{})}),Object(n.jsx)(rn.a,{primary:"Payables Settings"})]}),Object(n.jsxs)(an.a,{button:!0,onClick:function(){return t.push(f.PAGE_URL.GRADE_LEVEL_PAYABLES_LIST)},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(yn.a,{})}),Object(n.jsx)(rn.a,{primary:"Level Payables"})]}),Object(n.jsxs)(an.a,{button:!0,onClick:function(){return t.push(f.PAGE_URL.STUDENT_LIST)},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(jn.a,{})}),Object(n.jsx)(rn.a,{primary:"Student"})]}),Object(n.jsxs)(an.a,{button:!0,onClick:function(){return t.push(f.PAGE_URL.SCHOOL_LIST)},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(Ja.a,{})}),Object(n.jsx)(rn.a,{primary:"School"})]}),Object(n.jsxs)(an.a,{button:!0,onClick:function(){return t.push(f.PAGE_URL.USER_LIST)},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(gn.a,{})}),Object(n.jsx)(rn.a,{primary:"Users"})]}),Object(n.jsxs)(an.a,{button:!0,onClick:function(){return t.push(f.PAGE_URL.CODE_GROUPS_LIST)},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(hn.a,{})}),Object(n.jsx)(rn.a,{primary:"Code Groups"})]}),Object(n.jsxs)(an.a,{button:!0,onClick:function(){return function(e){console.log("[MenuListItems.doHandleClick] sourceName=".concat(e,", store=>"),o);var t=!o[e];s(Object(j.a)(Object(j.a)({},o),{},Object(Ba.a)({},e,t)))}("processing")},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(Rn.a,{})}),Object(n.jsx)(rn.a,{primary:"Processing"}),o.processing?Object(n.jsx)(sn.a,{}):Object(n.jsx)(dn.a,{})]}),Object(n.jsx)(cn.a,{in:o.processing,timeout:"auto",unmountOnExit:!0,children:Object(n.jsxs)(tn.a,{component:"div",disablePadding:!0,children:[Object(n.jsxs)(an.a,{button:!0,className:a.nested,onClick:function(){return t.push(f.PAGE_URL.CLOSE_PERIOD_DETAIL_URL)},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(_n.a,{})}),Object(n.jsx)(rn.a,{primary:"Close Period"})]}),Object(n.jsxs)(an.a,{button:!0,className:a.nested,children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(An.a,{})}),Object(n.jsx)(rn.a,{primary:"Generate Billing"})]})]})})]}),e&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(gt.a,{}),Object(n.jsxs)(an.a,{button:!0,onClick:function(){return t.push(f.PAGE_URL.LOGOUT)},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(xn.a,{})}),Object(n.jsx)(rn.a,{primary:"Logout"})]})]}),!e&&Object(n.jsxs)(an.a,{button:!0,onClick:function(){return t.push(f.PAGE_URL.LOGIN)},children:[Object(n.jsx)(nn.a,{children:Object(n.jsx)(vn.a,{})}),Object(n.jsx)(rn.a,{primary:"Login"})]})]})}var Un=Object(lt.a)((function(e){return{drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(Ba.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function wn(e){var t,a,r=Un(),i=Object(Ka.a)();return Object(n.jsxs)(Xa.a,{variant:"permanent",className:Object(Fa.a)(r.drawer,(t={},Object(Ba.a)(t,r.drawerOpen,e.drawerOpen),Object(Ba.a)(t,r.drawerClose,!e.drawerOpen),t)),classes:{paper:Object(Fa.a)((a={},Object(Ba.a)(a,r.drawerOpen,e.drawerOpen),Object(Ba.a)(a,r.drawerClose,!e.drawerOpen),a))},children:[Object(n.jsx)("div",{className:r.toolbar,children:Object(n.jsx)(Tt.a,{onClick:e.doHandleDrawerClose,children:"rtl"===i.direction?Object(n.jsx)(en.a,{}):Object(n.jsx)($a.a,{})})}),Object(n.jsx)(gt.a,{}),Object(n.jsx)(Dn,{})]})}var Gn="dark",Vn="light",Bn="THEME_DARK_MODE",Fn=function(){var e=Jt(),t=e.globalProps,a=e.setUIProps;return{props:t.ui,initTheme:function(){var e=localStorage.getItem(Bn);a({darkMode:"Y"===e})},toggleDarkMode:function(){a({darkMode:!t.ui.darkMode}),localStorage.setItem(Bn,t.ui.darkMode?"N":"Y")}}};function kn(){var e=Jt().userLogin,t=Fn(),a=Object(lt.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},title:Object(Ba.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block",paddingLeft:e.spacing(1)})}}))(),r=i.a.useState(!1),c=Object(xt.a)(r,2),o=c[0],s=c[1];return Object(n.jsxs)("div",{className:a.root,children:[console.log("[AppBarComponent.return] userLogin=>",e),Object(n.jsx)(ka.a,{position:"fixed",className:Object(Fa.a)(a.appBar,Object(Ba.a)({},a.appBarShift,o)),children:Object(n.jsxs)(Wa.a,{children:[Object(n.jsx)(Tt.a,{color:"inherit","aria-label":"open drawer",onClick:function(){s(!0),console.log("[AppBarComponent.doHandleDrawerOpen] drawerOpen=>".concat(o))},edge:"start",className:Object(Fa.a)(a.menuButton,Object(Ba.a)({},a.hide,o)),children:Object(n.jsx)(qa.a,{})}),e&&e.schoolLogo&&Object(n.jsx)(xa.a,{src:f.URL_BASE+f.PAGE_URL.LOGO_URL+e.schoolLogo}),(!e||!e.schoolLogo)&&Object(n.jsx)(Ja.a,{}),Object(n.jsx)(mt.a,{className:a.title,variant:"h6",noWrap:!0,children:Object(n.jsx)(ot.b,{to:"/",style:{textDecoration:"none",color:"white"},children:e&&Object(n.jsx)("b",{children:e.schoolName})})}),e&&Object(n.jsxs)("div",{children:["Welcome ",Object(n.jsx)("b",{children:e.userFullName})]}),Object(n.jsx)(Ot.a,{pl:5,children:Object(n.jsx)(Ha.a,{control:Object(n.jsx)(Ya.a,{checked:t.props.darkMode,onChange:function(){return t.toggleDarkMode()}})})})]})}),Object(n.jsx)(wn,{drawerOpen:o,doHandleDrawerClose:function(){s(!1),console.log("[AppBarComponent.doHandleDrawerClose] doHandleDrawerClose=>".concat(o))}})]})}var Wn=a(1862),Hn=a(1871),Yn=a(1878),Mn=function(e){var t=Object(St.b)(),a=t.control,i=t.register,c=t.handleSubmit,o=t.reset,s=Object(r.useState)(f.INIT_STATUS.LOAD),l=Object(xt.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(0),b=Object(xt.a)(j,2),p=b[0],O=b[1],g=Object(st.g)();Object(r.useEffect)((function(){O(p+1),console.log("[StudentDetailHtml.useEffect] status=>".concat(d,", counter=").concat(p)),d===f.INIT_STATUS.LOAD&&(e.onRetrieve(),u(f.INIT_STATUS.RESET)),o(e.store)}),[e.store]);var m=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:9}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",href:f.PAGE_URL.STUDENT_DETAIL_URL+"/-1",startIcon:Object(n.jsx)(Ut.a,{}),children:"New"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",onClick:function(){return g.push(f.PAGE_URL.STUDENT_LIST)},startIcon:Object(n.jsx)(oa.a,{}),children:"Cancel"})})]})})};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qt,{children:"Student Detail"}),e.message&&Object(n.jsx)(na.a,{severity:"info",children:e.message}),Object(n.jsxs)("form",{onSubmit:c(e.onSubmitForm),children:[Object(n.jsx)(m,{}),Object(n.jsx)(da.a,{type:"hidden",name:"id",inputRef:i,defaultValue:e.store.id}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(da.a,{id:"lrn",name:"lrn",label:"LRN",fullWidth:!0,autoComplete:"lrn",autoFocus:!0,variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.lrn})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(da.a,{required:!0,id:"firstName",name:"firstName",label:"First name",fullWidth:!0,autoComplete:"given-name",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.firstName})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(da.a,{required:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,autoComplete:"family-name",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.lastName})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(St.a,{as:Object(n.jsx)(da.a,{id:"level",required:!0,select:!0,name:"level.id",label:"Grade Level",fullWidth:!0,autoComplete:"student level",variant:"filled",inputRef:i,children:e.store.optionsList.studentLevelList.map((function(e){return Object(n.jsx)(ua.a,{value:e.id,children:e.description},e.id)}))}),name:"level.id",control:a,defaultValue:e.store.level.id,options:e.store.optionsList.studentLevelList})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(da.a,{required:!0,id:"birthDate",name:"birthDate",label:"Date of Birth",type:"date",fullWidth:!0,autoComplete:"birth-date",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.birthDate})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(da.a,{required:!0,id:"birthPlace",name:"birthPlace",label:"Birth Place",fullWidth:!0,autoComplete:"birth-place",InputLabelProps:{shrink:!0},variant:"filled",inputRef:i,defaultValue:e.store.birthPlace})}),Object(n.jsxs)(vt.a,{item:!0,xs:12,sm:2,children:[Object(n.jsx)(Wn.a,{component:"gender",variant:"filled",children:"Gender"}),Object(n.jsx)(St.a,{as:Object(n.jsxs)(Hn.a,{row:!0,label:"Gender","aria-label":"gender",variant:"filled",children:[Object(n.jsx)(Ha.a,{value:"Male",control:Object(n.jsx)(Yn.a,{variant:"filled"}),label:"Male",labelPlacement:"end",defaultValue:e.store.gender}),Object(n.jsx)(Ha.a,{value:"Female",control:Object(n.jsx)(Yn.a,{}),label:"Female",labelPlacement:"end",variant:"filled",defaultValue:e.store.gender})]}),name:"gender",fullWidth:!0,defaultValue:e.store.gender,inputRef:i,variant:"filled",control:a})]}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:5,children:Object(n.jsx)(da.a,{required:!0,id:"contactNo",name:"contactNo",label:"Contact No",fullWidth:!0,autoComplete:"contactNo",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.contactNo})}),Object(n.jsx)(vt.a,{item:!0,xs:12,children:Object(n.jsx)(gt.a,{})}),Object(n.jsx)(vt.a,{item:!0,xs:12,children:Object(n.jsx)(mt.a,{variant:"h6",children:"Address:"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,children:Object(n.jsx)(da.a,{id:"address.address1",name:"address1",label:"Address line 1",fullWidth:!0,autoComplete:"shipping address1",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.address1})}),Object(n.jsx)(vt.a,{item:!0,xs:12,children:Object(n.jsx)(da.a,{id:"address.address2",name:"address2",label:"Address line 2",fullWidth:!0,autoComplete:"shipping address2",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.address2})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(da.a,{required:!0,id:"address.city",name:"city",label:"City",fullWidth:!0,autoComplete:"shipping address city",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.city})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(da.a,{required:!0,id:"address.zip",name:"zipCode",label:"Zip / Postal code",fullWidth:!0,autoComplete:"shipping postal-code",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.zipCode})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(da.a,{editable:!1,required:!0,id:"address.country",name:"country",label:"Country",fullWidth:!0,autoComplete:"shipping postal-country",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.country})}),Object(n.jsx)(vt.a,{item:!0,xs:12,children:Object(n.jsx)(gt.a,{})}),Object(n.jsx)(vt.a,{item:!0,xs:12,children:Object(n.jsx)(mt.a,{variant:"h6",children:"Parent/Guardian:"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:8,children:Object(n.jsx)(da.a,{id:"fathersName",name:"fathersName",label:"Father's Name",fullWidth:!0,autoComplete:"fathersName",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.fathersName})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(da.a,{id:"fathersOccupation",name:"fathersOccupation",label:"Occupation",fullWidth:!0,autoComplete:"fathersName",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.fathersName})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:8,children:Object(n.jsx)(da.a,{id:"mothersName",name:"mothersName",label:"Mother's Name",fullWidth:!0,autoComplete:"mothersName",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.mothersName})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(da.a,{id:"mothersOccupation",name:"mothersOccupation",label:"Occupation",fullWidth:!0,autoComplete:"mothersOccupation",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.mothersOccupation})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(da.a,{id:"parentCivilStatus",name:"parentCivilStatus",label:"Parent CivilStatus",fullWidth:!0,autoComplete:"parentCivilStatus",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.parentCivilStatus})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:8,children:Object(n.jsx)(da.a,{id:"guardianName",name:"guardianName",label:"Guardian Name",fullWidth:!0,autoComplete:"guardianName",variant:"filled",InputLabelProps:{shrink:!0},inputRef:i,defaultValue:e.store.guardianName})})]}),Object(n.jsx)(m,{})]})]})},qn="student";function zn(e){var t=Xt().showErrorMsgAlert,a=Object(s.b)(),i=Object(s.c)(pe),c=Object(r.useState)(""),o=Object(xt.a)(c,2),l=o[0],d=o[1];return Object(n.jsx)(Mn,{store:i,message:l,onSubmitForm:function(n){console.log("[StudentDetailComponent.onSubmitForm] data==>",n),d("Saving..."),function(e){return Yt.a.post("".concat(f.default.urlSavePattern(qn)),e)}(n).then((function(t){a(ue(t.data.entity)),d(""),e.history.push(f.PAGE_URL.STUDENT_LIST)})).catch((function(e){return t(e,f.ERROR_CODE.SAVE_ERROR,"StudentDetailComponent.onSubmitForm","StudentService.save")}))},onRetrieve:function(){console.log("[StudentDetailComponent.onRetrieve]  props.match.params.id==>".concat(e.match.params.id)),d("Loading. Please wait..."),-1==e.match.params.id&&a(se()),Yt.a.get("".concat(f.default.urlOptionsPattern(qn))).then((function(e){a(je(e.data.listService)),d("")})).catch((function(e){return t(e,f.ERROR_CODE.RETRIEVE_ERROR,"StudentDetailComponent.onRetrieve","StudentService.getOptions")}))}})}function Jn(e){var t=Xt().showErrorMsgAlert,a=Object(s.b)(),i=Object(s.c)(be),c=Object(r.useState)(!1),o=Object(xt.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(),b=Object(xt.a)(u,2),p=b[0],O=b[1];Object(r.useEffect)((function(){a(se())}),[i]);var g=function(e){var n=e.searchValue,r=e.paging;return function(e,t,a){return Yt.a.get("".concat(f.default.urlListPattern(qn),"?searchValue=").concat(e,"&page=").concat(t,"&size=").concat(a,"&sort=").concat("code,priority,description"))}(n,r.currentPage,r.rowsPerPage).then((function(e){var t=e.data;a(de({INIT_STATUS:f.INIT_STATUS.LOAD,list:t.pagingList.content,searchValue:n,paging:{rowsPerPage:t.pagingList.size,currentPage:t.pagingList.pageable.pageNumber,totalElements:t.pagingList.totalElements,totalPage:t.pagingList.totalPage}}))})).catch((function(e){return t(e,f.ERROR_CODE.LIST_ERROR,"StudentListComponent.retrieve","StudentService.getList")}))},m=function(){g({searchValue:i.searchValue,paging:i.paging})},h=function(e){(function(e){return Yt.a.delete("".concat(f.default.urlDeletePattern(qn),"/").concat(e))})(e).then(m).catch((function(e){return t(e,f.ERROR_CODE.LIST_ERROR,"StudentListComponent.doDelete","StudentService.deleteItem")}))},x=[{field:"lrn",headerName:"LRN"},{headerName:"Name",render:function(e){return Object(n.jsxs)(n.Fragment,{children:[e.firstName," ",e.lastName]})}},{field:"gender",headerName:"Gender"},{headerName:"Level",render:function(e){return Object(n.jsx)(n.Fragment,{children:e.level&&e.level.description})}}];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qt,{children:"Student List"}),Object(n.jsx)(Wt,{store:i,cols:x,onChangePage:function(e,t){g({searchValue:i.searchValue,paging:Object(j.a)(Object(j.a)({},i.paging),{},{currentPage:t})})},onChangeRowsPerPage:function(e){g({searchValue:i.searchValue,paging:Object(j.a)(Object(j.a)({},i.paging),{},{rowsPerPage:e.target.value,currentPage:0})})},doRetrieve:m,doEdit:function(t){a(le(t)),e.history.push("".concat(f.PAGE_URL.STUDENT_DETAIL_URL))},doNew:function(){e.history.push("".concat(f.PAGE_URL.STUDENT_DETAIL_URL,"/-1"))},doDelete:function(e){O(e),d(!0)},doSearch:function(e){g({searchValue:e,paging:Object(j.a)({},i.paging)})}}),Object(n.jsx)(ra,{open:l,title:"Confirm delete",msg:"Are you sure you want to delete?",closeDialog:function(){d(!1)},setDialogSelection:function(e){console.log("[StudentListComponent.setDeleteDialogSelection] value=".concat(e)),e===f.OPTIONS.YES&&h(p),O(null)}})]})}var Kn="school";function Xn(e){var t=Object(st.g)(),a=Object(s.b)(),i=Object(St.b)(),c=i.control,o=i.register,l=i.handleSubmit,d=Object(r.useState)("Loading. Please wait..."),u=Object(xt.a)(d,2),j=u[0],b=u[1],p=Object(r.useState)(f.INIT_STATUS.INIT),O=Object(xt.a)(p,2),g=O[0],m=O[1],h=Object(s.c)(C),x=Xt().showErrorMsgAlert;Object(r.useEffect)((function(){console.log("[SchoolDetailComponent.useEffect] status=".concat(g,", selectedItem==>"),h),null==h.currentPeriod&&a(R({currentPeriod:{id:""}})),g===f.INIT_STATUS.INIT&&(-1==e.match.params.id&&a(E(S)),v(),m(f.INIT_STATUS.LOAD))}),[h]);var v=function(){-1==e.match.params.id&&a(L()),b("Loading. Please wait..."),Yt.a.get("".concat(f.default.urlOptionsPattern(Kn))).then((function(e){a(T(e.data.listService)),b("")})).catch((function(e){return x(e,f.ERROR_CODE.RETRIEVE_ERROR,"SchoolDetailComponent.doRetrieve","SchoolService.getOptions")}))};return Object(n.jsxs)(n.Fragment,{children:[console.log("[SchoolDetailComponent.render] selectedItem ==> ",h),Object(n.jsx)(qt,{children:"School Detail"}),j&&Object(n.jsx)(na.a,{severity:"info",children:j}),Object(n.jsxs)("form",{onSubmit:l((function(e){console.log("[SchoolDetailComponent.onSubmitForm] data = ",e),b("Saving..."),console.log("[SchoolDetailComponent.onSubmitForm] message = ",j),function(e){return Yt.a.post("".concat(f.default.urlSavePattern(Kn)),e)}(e).then((function(e){a(I(e.data.entity)),b(""),t.push(f.PAGE_URL.SCHOOL_LIST)})).catch((function(e){return x(e,f.ERROR_CODE.SAVE_ERROR,"SchoolDetailComponent.save","SchoolService.save")}))})),children:[Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:9}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",href:f.PAGE_URL.SCHOOL_DETAIL_URL+"/-1",startIcon:Object(n.jsx)(Ut.a,{}),children:"New"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",onClick:function(){return t.push(f.PAGE_URL.SCHOOL_LIST)},startIcon:Object(n.jsx)(oa.a,{}),children:"Cancel"})})]}),Object(n.jsx)(da.a,{type:"hidden",name:"id",inputRef:o,defaultValue:h.id}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(da.a,{required:!0,id:"name",name:"name",label:"Name",fullWidth:!0,autoComplete:"school-name",autoFocus:!0,variant:"filled",InputLabelProps:{shrink:!0},inputRef:o,defaultValue:h.name})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(St.a,{as:Object(n.jsx)(da.a,{id:"currentPeriod",required:!0,select:!0,label:"Current Period",fullWidth:!0,autoComplete:"school-currentPeriod",variant:"filled",InputLabelProps:{shrink:!0},children:h.optionsList.periodList.map((function(e){var t=e.id,a=e.description;return Object(n.jsx)(ua.a,{value:t,children:a},t)}))}),name:"currentPeriod.id",control:c,defaultValue:h.currentPeriod.id,options:h.optionsList.periodList})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(da.a,{id:"logo",name:"logo",label:"Logo",fullWidth:!0,autoComplete:"school-logo",variant:"filled",InputLabelProps:{shrink:!0},inputRef:o,defaultValue:h.logo})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:12,children:Object(n.jsx)(da.a,{required:!0,id:"address",name:"address",label:"Address",fullWidth:!0,autoComplete:"school-address",variant:"filled",InputLabelProps:{shrink:!0},inputRef:o,defaultValue:h.address})})]}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:9}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",href:f.PAGE_URL.SCHOOL_DETAIL_URL+"/-1",startIcon:Object(n.jsx)(Ut.a,{}),children:"New"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",onClick:function(){return t.push(f.PAGE_URL.SCHOOL_LIST)},startIcon:Object(n.jsx)(oa.a,{}),children:"Cancel"})})]})]})]})}function Qn(e){var t=Xt().showErrorMsgAlert,a=Object(s.b)(),i=Object(s.c)(A),c=Object(r.useState)(!1),o=Object(xt.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(),b=Object(xt.a)(u,2),p=b[0],O=b[1];Object(r.useEffect)((function(){a(L())}),[]);var g=function(e){var n=e.searchValue,r=e.paging;return function(e,t,a){return Yt.a.get("".concat(f.default.urlListPattern(Kn),"?searchValue=").concat(e,"&page=").concat(t,"&size=").concat(a,"&sort=").concat("schoolYear,name"))}(n,r.currentPage,r.rowsPerPage).then((function(e){var t=e.data;return a(y({INIT_STATUS:f.INIT_STATUS.LOAD,list:t.pagingList.content,searchValue:n,paging:{rowsPerPage:t.pagingList.size,currentPage:t.pagingList.pageable.pageNumber,totalElements:t.pagingList.totalElements,totalPage:t.pagingList.totalPage}}))})).catch((function(e){return t(e,f.ERROR_CODE.LIST_ERROR,"SchoolListComponent.retrieve","SchoolService.getList")}))},m=function(){return g({searchValue:i.searchValue,paging:i.paging})},h=function(e){return function(e){return Yt.a.delete("".concat(f.default.urlDeletePattern(Kn),"/").concat(e))}(e).then(m()).catch((function(e){return t(e,f.ERROR_CODE.LIST_ERROR,"SchoolListComponent.retrieve","SchoolService.getList")}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qt,{children:"Schools"}),Object(n.jsx)(Wt,{store:i,cols:[{field:"name",headerName:"Name"},{headerName:"Current Period",render:function(e){return e.currentPeriod?e.currentPeriod.description:""}},{field:"logo",headerName:"Logo"}],onChangePage:function(e,t){return g({searchValue:i.searchValue,paging:Object(j.a)(Object(j.a)({},i.paging),{},{currentPage:t})})},onChangeRowsPerPage:function(e){return g({searchValue:i.searchValue,paging:Object(j.a)(Object(j.a)({},i.paging),{},{rowsPerPage:e.target.value,currentPage:0})})},doRetrieve:m,doEdit:function(t){a(E(t)),e.history.push("".concat(f.PAGE_URL.SCHOOL_DETAIL_URL))},doNew:function(){a(L()),e.history.push("".concat(f.PAGE_URL.SCHOOL_DETAIL_URL,"/-1"))},doDelete:function(e){O(e),d(!0)},doSearch:function(e){return g({searchValue:e,paging:Object(j.a)({},i.paging)})}}),Object(n.jsx)(ra,{open:l,title:"Confirm delete",msg:"Are you sure you want to delete?",closeDialog:function(){d(!1)},setDialogSelection:function(e){console.log("[SchoolListComponent.setDeleteDialogSelection] value=".concat(e)),e===f.OPTIONS.YES&&h(p),O(null)}})]})}var $n=a(53),Zn=a(1882),er=a(1876),tr=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ot.a,{children:Object(n.jsx)(mt.a,{variant:"h5",children:e.children})})})},ar=function(e){var t=e.store,a=t.list,r=t.paging,i=Object(st.g)(),c=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Rt.a,{children:Object(n.jsxs)(f.StyledTableHeadRow,{children:[Object(n.jsx)(f.StyledTableHeadCell,{children:"LRN"}),Object(n.jsx)(f.StyledTableHeadCell,{children:"Name"}),Object(n.jsx)(f.StyledTableHeadCell,{children:"Grade Level"})]})})})},o=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(At.a,{children:a.map((function(t){return Object(n.jsxs)(f.StyledTableRow,{children:[Object(n.jsx)(Ct.a,{variant:"head",children:t.lrn}),Object(n.jsxs)(Ct.a,{children:[t.firstName," ",t.lastName]}),Object(n.jsx)(Ct.a,{children:t.level.description}),Object(n.jsxs)(Ct.a,{align:"right",children:[Object(n.jsx)(Tt.a,{"aria-label":"payment",onClick:function(){return function(t){return e.doPayables(t.id,t.school.currentPeriod.id)}(t)},children:Object(n.jsx)(pn.a,{fontSize:"large"})}),Object(n.jsx)(Tt.a,{"aria-label":"edit",onClick:function(){return e=t.id,i.push(f.PAGE_URL.STUDENT_DETAIL_URL+"/"+e);var e},children:Object(n.jsx)(Gt.a,{fontSize:"large"})})]})]},t.id)}))})})};return Object(n.jsxs)(n.Fragment,{children:[console.log("[SearchResultsHtmlComponent.useEffect] props.store=>",e.store),Object(n.jsx)(tr,{children:"Search Results"}),Object(n.jsx)(Et.a,{component:yt.a,children:Object(n.jsxs)(It.a,{children:[Object(n.jsx)(c,{}),Object(n.jsx)(o,{})]})}),Object(n.jsx)(kt,{paging:r,onChangePage:e.onChangePage,onChangeRowsPerPage:e.onChangeRowsPerPage})]})},nr=a(1872),rr=a(6);function ir(e){var t=e.sm,a=e.name,r=e.label,i=e.options,c=Object(rr.a)(e,["sm","name","label","options"]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(vt.a,{item:!0,xs:12,sm:t,children:Object(n.jsx)(da.a,Object(j.a)(Object(j.a)({id:a,select:!0,name:a,label:r,variant:"filled",fullWidth:!0,InputLabelProps:{shrink:!0},autoComplete:r+"-"+a},c),{},{children:i.map((function(e){var t=e.id,a=e.description;return Object(n.jsx)(ua.a,{value:t,children:a},t)}))}))})})}var cr=a(4),or=cr.StyledTableRow,sr=cr.StyledTableHeadRow,lr=cr.StyledTableHeadCell,dr=cr.INIT_STATUS,ur=function(e){var t=Object(St.b)(),a=t.register,i=t.handleSubmit,c=t.reset,o=Object(r.useState)(0),s=Object(xt.a)(o,2),l=s[0],d=s[1],u=Object(r.useState)({}),b=Object(xt.a)(u,2),p=b[0],O=b[1],g=Object(r.useState)({period:{id:e.store.periodId}}),m=Object(xt.a)(g,2),h=m[0],f=m[1],x=function(t){!function(e){var t=e.target,a=t.name,n=t.value;console.log("[PayablesHtmlComponent.changeSelectState] name=".concat(a,", value=").concat(n)),f(Object(Ba.a)({},a,{id:n})),console.log("[PayablesHtmlComponent.changeSelectState] currentState=>",h)}(t);var a=t.target.value;e.doPayables(e.store.entity.id,a)};Object(r.useEffect)((function(){console.log("[PayablesHtmlComponent.useEffect] INIT_STATUS=".concat(e.store.INIT_STATUS,", props.store=>"),e.store),console.log("[PayablesHtmlComponent.useEffect] currentState => ",h),console.log("[PayablesHtmlComponent.useEffect] props.store.periodId => ",e.store.periodId),e.store.INIT_STATUS===dr.PAYABLES_RESET&&(v(),e.doUpdateCurrPageable({INIT_STATUS:dr.DONE}),c(e.store))}),[e.store]);var S=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),v=function(){console.log("[PayablesHtmlComponent.resetPayables] payables => ",p),d(0);for(var e=!0,t=0,a=Object(j.a)({},p);e;){a["payables[".concat(t,"].payment")]?a["payables[".concat(t,"].payment")]=S.format(0):e=!1,t++}O(a)};return Object(n.jsxs)(n.Fragment,{children:[console.log("[PayablesHtmlComponent.return] props.store => ",e.store),Object(n.jsx)(tr,{children:"Student Information"}),Object(n.jsx)(yt.a,{elevation:3,variant:"elevation",children:Object(n.jsx)(Ot.a,{py:3,px:3,children:Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:"LRN"}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:10,children:e.store.entity.lrn}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:"Student Name"}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:10,children:e.store.entity.firstName+" "+e.store.entity.lastName}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:"Level"}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:10,children:e.store.entity.level.description})]})})}),Object(n.jsx)(tr,{children:"Old Accounts"}),Object(n.jsx)(Et.a,{component:yt.a,elevation:3,variant:"elevation",children:Object(n.jsxs)(It.a,{children:[Object(n.jsx)(Rt.a,{children:Object(n.jsxs)(sr,{children:[Object(n.jsxs)(lr,{variant:"head",style:{width:"10%"},children:["Total: P",e.store.paymentBalance.totalBalance.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]},0),e.store.paymentBalance.balances.map((function(e){var t=e.id,a=e.name,r=e.balance;return Object(n.jsxs)(lr,{variant:"head",align:"right",style:{width:"20%"},children:[a,": P",r.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]},t)})),Object(n.jsx)(lr,{})]})}),Object(n.jsx)(At.a,{})]})}),Object(n.jsxs)("form",{onSubmit:i(e.doShowSaveBillingDialog),children:[Object(n.jsx)(da.a,{type:"hidden",name:"id",value:e.store.entity.id,inputRef:a}),Object(n.jsx)(tr,{children:"Payables"}),Object(n.jsx)(Ot.a,{py:3,px:3,children:Object(n.jsx)(vt.a,{container:!0,spacing:3,children:Object(n.jsx)(ir,{sm:3,required:!0,name:"period",label:"Period",value:h.period.id,options:e.store.optionsList.periodList,onChange:function(e){return x(e)}})})}),Object(n.jsx)(Et.a,{component:yt.a,elevation:3,variant:"elevation",children:Object(n.jsxs)(It.a,{children:[Object(n.jsx)(Rt.a,{children:Object(n.jsxs)(sr,{children:[Object(n.jsx)(lr,{variant:"head",style:{width:"10%"},children:"Payables"}),Object(n.jsx)(lr,{variant:"head",style:{width:"10%"},align:"right",children:"Total"}),Object(n.jsx)(lr,{variant:"head",style:{width:"10%"},align:"right",children:"Paid"}),Object(n.jsx)(lr,{variant:"head",style:{width:"10%"},align:"right",children:"Balance"}),Object(n.jsx)(lr,{variant:"head",children:"Amount to Pay"})]})}),Object(n.jsxs)(At.a,{children:[e.store.studentPayables.payables.map((function(t,r){return Object(n.jsxs)(or,{children:[Object(n.jsx)(Ct.a,{children:t.aps?t.aps.label:t.name}),"balance"===t.code&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ct.a,{align:"right"}),Object(n.jsx)(Ct.a,{align:"right"}),Object(n.jsx)(Ct.a,{align:"right"}),Object(n.jsxs)(Ct.a,{align:"right",children:["(",t.payment,")"]})]}),"balance"!==t.code&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Ct.a,{align:"right",children:["P",t.amount.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]}),Object(n.jsxs)(Ct.a,{align:"right",children:["P",t.paid.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]}),Object(n.jsxs)(Ct.a,{align:"right",children:["P",t.balance.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]}),Object(n.jsxs)(Ct.a,{align:"right",children:[Object(n.jsx)(da.a,{type:"hidden",name:"payables[".concat(r,"].student.id"),value:e.store.entity.id,inputRef:a}),Object(n.jsx)(da.a,{type:"hidden",name:"payables[".concat(r,"].balance"),value:t.balance,inputRef:a}),Object(n.jsx)(da.a,{type:"hidden",name:"payables[".concat(r,"].order"),value:r,inputRef:a}),Object(n.jsx)(da.a,{type:"hidden",name:"payables[".concat(r,"].code"),value:t.code,inputRef:a}),Object(n.jsx)(da.a,{type:"hidden",name:"payables[".concat(r,"].amount"),value:t.amount,inputRef:a}),Object(n.jsx)(da.a,{type:"hidden",name:"payables[".concat(r,"].name"),value:t.name,inputRef:a}),Object(n.jsx)(da.a,{type:"hidden",name:"payables[".concat(r,"].paid"),value:t.paid,inputRef:a}),Object(n.jsx)(da.a,{id:t.code,type:"currency",name:"payables[".concat(r,"].payment"),onBlur:function(e){return function(e){var t=e.target,a=t.value;a=a?a.replaceAll(",",""):0,t.value=S.format(a),console.log("[PayablesHtmlComponent.onPaymentBlur] value = ".concat(a,", payables => "),p),a=(a=t.value)?a.replaceAll(",",""):0;var n=Number(a),r=Object(j.a)({},p);r[t.name]=n,O(r);for(var i=!0,c=0,o=0;i;){var s=r["payables[".concat(c,"].payment")];s?o+=s:i=!1,c++}d(S.format(o)),console.log("[PayablesHtmlComponent.onPaymentBlur] total = ".concat(o,", payables => "),p)}(e)},fullWidth:!0,inputRef:a,defaultValue:t.payment,variant:"filled",InputProps:{startAdornment:Object(n.jsx)(nr.a,{position:"start",children:"P"})}})]})]})]},t.id)})),Object(n.jsxs)(or,{children:[Object(n.jsx)(Ct.a,{colSpan:"4",align:"right",children:"Total"}),Object(n.jsx)(Ct.a,{align:"right",children:l})]})]})]})}),Object(n.jsx)(Ot.a,{pt:3,children:Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:10}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(aa.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save Payment"})})]})}),Object(n.jsx)(tr,{children:"Invoice"}),Object(n.jsx)(Et.a,{component:yt.a,elevation:3,variant:"elevation",children:Object(n.jsxs)(It.a,{children:[Object(n.jsx)(Rt.a,{children:Object(n.jsxs)(sr,{children:[Object(n.jsx)(lr,{variant:"head",style:{width:"15%"},children:"Date"}),Object(n.jsx)(lr,{variant:"head",style:{width:"10%"},children:"Invoice #"}),e.store.billingByInvoice.accountPayablesSettings.map((function(e){var t=e.id,a=e.label;return Object(n.jsx)(lr,{variant:"head",align:"right",children:a},t)}))]})}),Object(n.jsx)(At.a,{children:e.store.billingByInvoice.list.map((function(t){var a=t.invoiceNo,r=t.invoiceDate,i=t.payablesMap;return Object(n.jsxs)(or,{children:[Object(n.jsx)(Ct.a,{children:ne()(r).format("lll")}),Object(n.jsx)(Ct.a,{children:a}),e.store.billingByInvoice.accountPayablesSettings.map((function(e){var t=e.id;return Object(n.jsxs)(n.Fragment,{children:[console.log("invoiceNo=".concat(a,", id=$id, payablesMap==>"),i),Object(n.jsx)(Ct.a,{align:"right",children:(i[t]?i[t].payment:0).toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})},t)]})}))]},a)}))})]})})]})]})};function jr(e){var t=Object(St.b)(),a=t.control,i=t.register,c=t.handleSubmit,o=t.reset;return Object(r.useEffect)((function(){console.log("[BillingHtmlComponent.useEffect] INIT_STATUS=".concat(e.store.INIT_STATUS,", props.store=>"),e.store),e.store.INIT_STATUS===f.INIT_STATUS.RESET&&o(e.store)}),[e.store]),Object(n.jsxs)(n.Fragment,{children:[console.log("[BillingHtmlComponent.return], INIT_STATUS=".concat(e.store.INIT_STATUS,", props.store=>"),e.store),Object(n.jsx)(qt,{children:"Payment"}),Object(n.jsx)("form",{onSubmit:c(e.doRetrieve),children:Object(n.jsx)(yt.a,{elevation:3,variant:"elevation",children:Object(n.jsx)(Ot.a,{my:3,mx:3,children:Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(mt.a,{variant:"h6",children:"Search By"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(St.a,{as:Object(n.jsx)(er.a,{fullWidth:!0,children:e.store.optionsList.billingSearchBy.map((function(e){return Object(n.jsx)(ua.a,{value:e.value,children:e.label},e.id)}))}),required:!0,name:"searchBy",control:a,defaultValue:e.store.searchBy,options:e.store.optionsList.billingSearchBy})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:6,children:Object(n.jsx)(da.a,{id:"searchValue",required:!0,name:"searchValue",fullWidth:!0,autoComplete:"billing-search-value",inputRef:i,defaultValue:e.store.searchValue})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(aa.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(Bt.a,{}),children:"Search"})})]})})})}),e.store.searchFlag&&Object(n.jsx)(ar,{store:e.store,onChangePage:e.onChangePage,onChangeRowsPerPage:e.onChangeRowsPerPage,doPayables:e.doPayables,doUpdateCurrPageable:e.doUpdateCurrPageable}),e.store.payablesFlag&&Object(n.jsx)(ur,{register:i,handleSubmit:c,doShowSaveBillingDialog:e.doShowSaveConfirmDialog,store:e.store,doUpdateCurrPageable:e.doUpdateCurrPageable,doPayables:e.doPayables})]})}var br=a(176),pr=a.n(br),Or=a(270);function gr(e){var t=Jt().userLogin,a=Object(St.b)(e.confirmStore).reset,i=Object(r.useRef)(),c=Object(Or.useReactToPrint)({content:function(){return i.current}});Object(r.useEffect)((function(){console.log("[SavePayablesConfimationHtml.useEffect] confirmStore=>",e.confirmStore),e.confirmStore.INIT_STATUS===f.INIT_STATUS.RESET&&a(e.confirmStore),e.confirmStore.INIT_STATUS=f.INIT_STATUS.DONE}),[e.confirmStore]);var o=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ot.a,{pb:3,children:Object(n.jsx)(yt.a,{elevation:3,variant:"elevation",children:Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:"Student Name"}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:e.confirmStore.entity.firstName+" "+e.confirmStore.entity.lastName}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:"LRN"}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:e.confirmStore.entity.lrn}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:"Level"}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:e.confirmStore.entity.level.description})]})})}),Object(n.jsx)(Et.a,{component:yt.a,elevation:3,variant:"elevation",children:e.confirmStore.payables.length>0&&Object(n.jsxs)(It.a,{children:[Object(n.jsx)(Rt.a,{children:Object(n.jsxs)(f.StyledTableHeadRow,{children:[Object(n.jsx)(f.StyledTableHeadCell,{variant:"head",children:"Payables"}),Object(n.jsx)(f.StyledTableHeadCell,{variant:"head",style:{width:"20%"},align:"right",children:"Total"}),Object(n.jsx)(f.StyledTableHeadCell,{variant:"head",style:{width:"20%"},align:"right",children:"Balance"}),Object(n.jsx)(f.StyledTableHeadCell,{variant:"head",style:{width:"20%"},align:"right",children:"Amount to Pay"})]})}),Object(n.jsxs)(At.a,{children:[e.confirmStore.payables.map((function(e){return Object(n.jsx)(n.Fragment,{children:e.payment>0&&Object(n.jsxs)(f.StyledTableRow,{children:[Object(n.jsx)(Ct.a,{children:e.name}),Object(n.jsx)(Ct.a,{align:"right",children:f.formatter.format(e.amount)}),Object(n.jsx)(Ct.a,{align:"right",children:f.formatter.format(e.balance)}),Object(n.jsx)(Ct.a,{align:"right",children:f.formatter.format(e.payment)})]})})})),Object(n.jsxs)(f.StyledTableRow,{children:[Object(n.jsx)(Ct.a,{children:e.confirmStore.balanceTotal>0&&Object(n.jsxs)(mt.a,{variant:"h6",color:"textPrimary",children:["Remaining balance is ",f.formatter.format(e.confirmStore.balanceTotal)]})}),Object(n.jsx)(f.StyledTableCell,{align:"right",colSpan:3,children:Object(n.jsxs)(mt.a,{variant:"h5",color:"textPrimary",children:["Total amount is ",f.formatter.format(e.confirmStore.paymentTotal)]})})]}),e.confirmStore.invoiceNo&&Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(f.StyledTableRow,{children:[Object(n.jsx)(f.StyledTableCell,{align:"right",colSpan:1,children:Object(n.jsx)(mt.a,{variant:"h4",color:"textPrimary",children:"Invoice No: "})}),Object(n.jsx)(f.StyledTableCell,{align:"left",colSpan:2,children:Object(n.jsx)(mt.a,{variant:"h5",color:"textPrimary",children:e.confirmStore.invoiceNo})}),Object(n.jsx)(Ct.a,{align:"center",children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(pr.a,{}),children:"Print Invoice"})})]})})]})]})})]})},s=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{ref:i,className:"root",children:[Object(n.jsxs)("table",{width:"100%",border:"0",children:[Object(n.jsx)("tr",{children:Object(n.jsx)("th",{colSpan:4,align:"center",children:t.schoolName})}),Object(n.jsx)("tr",{children:Object(n.jsx)("th",{colSpan:4,align:"center",children:t.schoolAddress})}),Object(n.jsx)("tr",{children:Object(n.jsx)("th",{colSpan:4,align:"center",children:"\xa0"})}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{align:"left",width:"20%",children:"Student Name:"}),Object(n.jsx)("th",{align:"left",children:e.confirmStore.entity.firstName+" "+e.confirmStore.entity.lastName}),Object(n.jsx)("th",{align:"left",width:"20%",children:"Invoice No:"}),Object(n.jsx)("th",{align:"left",children:e.confirmStore.invoiceNo})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{align:"left",children:"Student Id:"}),Object(n.jsx)("th",{align:"left",children:e.confirmStore.entity.studentId}),Object(n.jsx)("th",{align:"left",children:"Invoice Date:"}),Object(n.jsx)("th",{align:"left",children:e.confirmStore.invoiceDate})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{align:"left",children:"Level:"}),Object(n.jsx)("th",{align:"left",children:e.confirmStore.entity.level.description}),Object(n.jsx)("th",{align:"left"}),Object(n.jsx)("th",{align:"left"})]})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("table",{width:"100%",border:"0",children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{width:"25%",align:"right",children:"Total"}),Object(n.jsx)("th",{width:"25%",align:"right",children:"Balance"}),Object(n.jsx)("th",{width:"25%",align:"right",children:"Amount Paid"})]}),e.confirmStore.payablesByInvoiceNo.map((function(e){return Object(n.jsx)(n.Fragment,{children:0!=e.paid&&Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{align:"left",children:e.name}),Object(n.jsx)("td",{align:"right",children:f.formatter.format(e.amount)}),Object(n.jsx)("td",{align:"right",children:f.formatter.format(e.balance)}),Object(n.jsx)("td",{align:"right",children:f.formatter.format(e.paid)})]})})})),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{}),Object(n.jsx)("td",{colSpan:4,align:"right",children:Object(n.jsxs)("h3",{children:["Total Amount Paid: ",f.formatter.format(e.confirmStore.paymentTotal)]})})]})]})]})})};return Object(n.jsxs)(n.Fragment,{children:[console.log("[SavePayablesConfimationHtml.return] confirmStore=>",e.confirmStore),Object(n.jsxs)(Qt.a,{fullWidth:"true",maxWidth:"md",open:e.open,onClose:e.closeDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)($t.a,{id:"alert-dialog-title",children:!e.confirmStore.invoiceNo&&Object(n.jsx)(na.a,{severity:"info",align:"right",children:e.title})}),Object(n.jsx)(Zt.a,{children:Object(n.jsxs)(ea.a,{id:"alert-dialog-description",children:[!e.confirmStore.invoiceNo&&Object(n.jsx)(o,{}),e.confirmStore.invoiceNo&&Object(n.jsx)(s,{})]})}),Object(n.jsxs)(ta.a,{children:[e.confirmStore.invoiceNo&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(aa.a,{className:"not-printable",onClick:c,variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(pr.a,{}),children:"Print Invoice"}),Object(n.jsx)(aa.a,{className:"not-printable",onClick:e.closeDialog,variant:"contained",color:"secondary",startIcon:Object(n.jsx)(oa.a,{}),children:"Close"})]}),!e.confirmStore.invoiceNo&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(aa.a,{onClick:e.closeDialog,variant:"contained",color:"secondary",startIcon:Object(n.jsx)(oa.a,{}),children:" Cancel"}),Object(n.jsx)(aa.a,{onClick:e.saveDialog,variant:"contained",color:"primary",autoFocus:!0,startIcon:Object(n.jsx)(la.a,{}),children:" Save"})]})]})]})]})}function mr(){var e=Xt().showErrorMsgAlert,t=Object(s.b)(),a=Object(s.c)(Xe),i=Object(r.useState)({open:!1,message:"",vertical:"top",horizontal:"center"}),c=Object(xt.a)(i,2),o=c[0],l=c[1],d=o.message,u=o.open,b=o.vertical,p=o.horizontal,O=Object(r.useState)({INIT_STATUS:f.INIT_STATUS.INIT,entity:{studentId:"",firstName:"",lastName:"",level:{id:"",value:"",description:""}},payables:[],payablesByInvoiceNo:[],open:!1}),g=Object(xt.a)(O,2),m=g[0],h=g[1],x=function(e){e.currentPage||(e.paging={rowsPerPage:25,totalElements:0,currentPage:0}),e.entity||(e.entity={studentId:"",firstName:"",lastName:"",level:{id:"",value:"",description:""}}),e.studentPayables||(e.studentPayables={invoiceNo:"",payables:[],payablesByInvoiceNo:[]}),e.studentPayables.payables||(e.studentPayables.payables=[]),e.studentPayables.payablesByInvoiceNo||(e.studentPayables.payablesByInvoiceNo=[])},S=function(n){var r,i,c,o;console.log("[BillingComponent.doRetrieve] data==>",n),(r=n.searchBy,i=n.searchValue,c=a.paging.currentPage,o=a.paging.rowsPerPage,Yt.a.get("".concat(f.API_URL_BASE,"billing/search/").concat(r,"?searchValue=").concat(i,"&page=").concat(c,"&size=").concat(o))).then((function(e){console.log("[BillingComponent.doRetrieve BillingService.getListBy] response==>",e);var r=Object(j.a)(Object(j.a)({},a),{},{INIT_STATUS:f.INIT_STATUS.RESET,searchValue:n.searchValue,searchBy:n.searchBy,searchFlag:!0,payablesFlag:!1,list:e.data.content,optionsList:We,paging:{rowsPerPage:e.data.size,totalElements:e.data.totalElements,currentPage:e.data.pageable.pageNumber}});x(r),t(Je(r))})).catch((function(t){return e(t,f.ERROR_CODE.LIST_ERROR,"BillingComponent.doRetrieve","BillingService.getListBy")}))},v=function(e){t(Ke(e))},P=function(a){console.log("[BillingComponent.doSavePayables] data==>",a),function(e,t,a){return Yt.a.post("".concat(f.default.urlSavePattern("billing"),"/").concat(t,"/period/").concat(a),e)}(a.payables,a.entity.id,a.periodId).then((function(e){console.log("[BillingComponent.doSavePayables BillingService.save] response==>",e);var a={INIT_STATUS:f.INIT_STATUS.PAYABLES_RESET,entity:e.data.student,studentPayables:e.data.studentPayables,searchFlag:!1,payablesFlag:!0};console.log("[BillingComponent.doSavePayables BillingService.save] 1 formData==>",a),x(a),console.log("[BillingComponent.doSavePayables BillingService.save] 2 formData==>",a),t(Ke(a)),console.log("[BillingComponent.doSavePayables BillingService.save] 3 formData==>",a);var n=[];console.log("[BillingComponent.doSavePayables BillingService.save] 0 payablesByInvoiceNo==>",n);var r,i=Object($n.a)(e.data.studentPayables.payablesByInvoiceNo);try{for(i.s();!(r=i.n()).done;){var c=r.value,o=Object(j.a)({},c);n.push(o)}}catch(l){i.e(l)}finally{i.f()}console.log("[BillingComponent.doSavePayables BillingService.save] 1 payablesByInvoiceNo==>",n);var s=0;n.map((function(e){return e.paid=Number(e.paid),s+=e.paid,e})),console.log("[BillingComponent.doSavePayables BillingService.save] 2 payablesByInvoiceNo==>",n),h(Object(j.a)(Object(j.a)({},m),{},{INIT_STATUS:f.INIT_STATUS.RESET,payables:[],invoiceDate:ne()(e.data.studentPayables.invoiceDate).format("lll"),invoiceNo:e.data.studentPayables.invoiceNo,payablesByInvoiceNo:n,paymentTotal:s,balanceTotal:0})),v({billingByInvoice:Object(j.a)({},e.data.billingByInvoice)}),E({message:"Payables saved successfully!"})})).catch((function(t){return e(t,f.ERROR_CODE.LIST_ERROR,"BillingComponent.doSavePayables","BillingService.save")}))},L=function(e){e.entity||(e.entity={studentId:"",firstName:"",lastName:"",level:{id:"",value:"",description:""}}),e.payables||(e.payables=[])},E=function(e){l(Object(j.a)(Object(j.a)({},o),{},{open:!0},e))},y=function(){l(Object(j.a)(Object(j.a)({},o),{},{open:!1,message:""}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(jr,{store:a,doRetrieve:S,doPayables:function(t,a){console.log("[BillingComponent.doPayables BillingService.getStudentPayablesByPeriod] id=".concat(t,", periodId=").concat(a)),function(e,t){return Yt.a.get("".concat(f.API_URL_BASE,"billing/payables/").concat(e,"/period/").concat(t))}(t,a).then((function(e){console.log("[BillingComponent.doPayables BillingService.getStudentPayablesByPeriod] response==>",e),console.log("[BillingComponent.doPayables BillingService.getStudentPayablesByPeriod] response.data.optionsList==>",e.data.optionsList);var t=e.data.studentPayables.payables;t.map((function(e){return e.payment=f.formatter.format(e.payment),e}));var n=Object(j.a)(Object(j.a)({},e.data.optionsList),We);console.log("[BillingComponent.doPayables BillingService.getStudentPayables] optionsListTemp==>",n);var r={INIT_STATUS:f.INIT_STATUS.RESET,entity:e.data.student,periodId:a,studentPayables:Object(j.a)(Object(j.a)({},e.data.studentPayables),{},{payables:t}),billingByInvoice:Object(j.a)({},e.data.billingByInvoice),paymentBalance:Object(j.a)({},e.data.paymentBalance),searchFlag:!1,payablesFlag:!0};x(r),r.optionsList=n,console.log("[BillingComponent.doPayables BillingService.getStudentPayables] formData==>",r),v(r)})).catch((function(t){return e(t,f.ERROR_CODE.LIST_ERROR,"BillingComponent.doPayables","BillingService.getStudentPayables")}))},onChangePage:function(e,t){var n=Object(j.a)({},a.paging);n.currentPage=t;var r={paging:n};v(r),S({searchBy:r.searchBy,searchValue:r.searchValue,currentPage:r.paging.currentPage,rowsPerPage:r.paging.rowsPerPage})},onChangeRowsPerPage:function(e){var t=Object(j.a)({},a.paging);t.rowsPerPage=e.target.value,t.currentPage=0,v({paging:t}),S()},doShowSaveConfirmDialog:function(e){console.log("[BillingComponent.doShowSaveConfirmDialog] data==>",e);var t=0,n=0;if(e.payables.map((function(e){var a=e.balance?e.balance.replaceAll(",",""):0,r=e.payment?e.payment.replaceAll(",",""):0;return e.balance=Number(a),e.payment=Number(r),n+=e.balance,t+=e.payment,e})),0==Number(t))console.log("[BillingComponent.doShowSaveConfirmDialog] 1 totalBalance=".concat(n,", paymentTotal=").concat(t)),E({message:"Total amount is ".concat(t)});else{console.log("[BillingComponent.doShowSaveConfirmDialog] 2 totalBalance=".concat(n,", paymentTotal=").concat(t));var r=Object(j.a)(Object(j.a)({},m),{},{INIT_STATUS:f.INIT_STATUS.RESET,open:!0,entity:a.entity,payables:e.payables,payablesByInvoiceNo:[],paymentTotal:t,balanceTotal:n-t,invoiceNo:"",periodId:a.periodId});L(r),console.log("[BillingComponent.doShowSaveConfirmDialog] confirmStoreTemp==>",r),h(r)}},doSavePayables:P,doUpdateCurrPageable:v}),Object(n.jsx)(gr,{confirmStore:m,title:"Please click save button to confirm.",open:m.open,closeDialog:function(){var e=Object(j.a)(Object(j.a)({},m),{},{open:!1});h(e)},saveDialog:function(){console.log("[BillingComponent.doConfirmSavePayables] confirmStore==>",m),P(m)}}),Object(n.jsx)(Zn.a,{open:u,autoHideDuration:6e3,onClose:y,anchorOrigin:{vertical:b,horizontal:p},children:Object(n.jsx)(na.a,{onClose:y,severity:"success",children:d})})]})}var hr="accountPayablesSettings",fr=function(){return Yt.a.get("".concat(f.default.urlOptionsPattern(hr)))};function xr(e){var t=Object(s.b)(),a=Object(s.c)(Be),i=Xt().showErrorMsgAlert,c=Object(r.useState)(!1),o=Object(xt.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(),b=Object(xt.a)(u,2),p=b[0],O=b[1],g=Object(r.useState)({periodList:[]}),m=Object(xt.a)(g,2),h=m[0],x=m[1],S=Object(r.useState)({period:{id:"All"}}),v=Object(xt.a)(S,2),P=v[0],L=v[1];Object(r.useEffect)((function(){E()}),[]);var E=function(){fr().then((function(e){var t=Object(j.a)(Object(j.a)({},e.data.listService),{},{periodList:[{id:"ALL",description:"All"}].concat(Object(ge.a)(e.data.listService.periodList))});x(t)}))},y=function(e){var a=e.searchValue,n=e.paging,r=e.periodId,c=void 0===r?P.period.id:r;return function(e,t,a,n){return Yt.a.get("".concat(f.default.urlListPattern(hr),"/period/").concat(n),{params:{searchValue:e,page:t,size:a,sort:"period,desc,priority,asc,description,amount"}})}(a,n.currentPage,n.rowsPerPage,c).then((function(e){var n=e.data;return t(we({INIT_STATUS:f.INIT_STATUS.LOAD,list:n.pagingList.content,searchValue:a,paging:{rowsPerPage:n.pagingList.size,currentPage:n.pagingList.pageable.pageNumber,totalElements:n.pagingList.totalElements,totalPage:n.pagingList.totalPage}}))})).catch((function(e){return i(e,f.ERROR_CODE.RETRIEVE_ERROR,"AccountPayablesSettingsListComponent.retrieve","AccountPayablesSettingsService.getList")}))},I=function(){return y({searchValue:a.searchValue,paging:a.paging})},R=function(e){return function(e){return Yt.a.delete("".concat(f.default.urlDeletePattern(hr),"/").concat(e))}(e).then(I).catch((function(e){return i(e,f.ERROR_CODE.RETRIEVE_ERROR,"AccountPayablesSettingsListComponent.doDelete","AccountPayablesSettingsService.deleteItem")}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qt,{children:"Accounts Payables Settings List"}),Object(n.jsx)(Ot.a,{py:5,children:Object(n.jsx)(yt.a,{elevation:2,variant:"elevation",children:Object(n.jsxs)(Ot.a,{pb:3,px:3,children:[Object(n.jsx)(tr,{children:"Filter"}),Object(n.jsx)(vt.a,{container:!0,spacing:3,children:Object(n.jsx)(ir,{sm:3,name:"period",label:"Period",value:P.period.id,options:h.periodList,onChange:function(e){return function(e){var t=e.target,n=t.name,r=t.value;console.log("[AccountPayablesSettingsListComponent.changeSelectState] name=".concat(n,", value=").concat(r)),L(Object(j.a)(Object(j.a)({},P),{},Object(Ba.a)({},n,{id:r}))),console.log("[AccountPayablesSettingsListComponent.changeSelectState]  filter=",P),y({searchValue:a.searchValue,paging:Object(j.a)({},a.paging),periodId:r})}(e)}})})]})})}),Object(n.jsx)(Wt,{store:a,cols:[{field:"description",headerName:"Description"},{headerName:"Period",render:function(e){return e.period?e.period.description:""}},{headerName:"Payment Period",render:function(e){return e.paymentPeriod?e.paymentPeriod.description:""}},{field:"amount",headerName:"Amount"},{field:"priority",headerName:"Priority"},{field:"applyToAll",headerName:"Apply To All",render:function(e){return e.applyToAll?"Y":"N"}},{field:"active",headerName:"Active",render:function(e){return e.active?"Y":"N"}}],onChangePage:function(e,t){return y({searchValue:a.searchValue,paging:Object(j.a)(Object(j.a)({},a.paging),{},{currentPage:t})})},onChangeRowsPerPage:function(e){return y({searchValue:a.searchValue,paging:Object(j.a)(Object(j.a)({},a.paging),{},{rowsPerPage:e.target.value,currentPage:0})})},doRetrieve:I,doEdit:function(a){var n=Object(j.a)({},a);n.period||(n.period={id:""}),n.paymentPeriod||(n.paymentPeriod={id:""}),console.log("[AccountPayablesSettingsListComponent.doEdit]  data=",n),t(Ue(n)),e.history.push("".concat(f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_DETAIL_URL))},doNew:function(){e.history.push("".concat(f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_DETAIL_URL,"/-1"))},doDelete:function(e){O(e),d(!0)},doSearch:function(e){return y({searchValue:e,paging:Object(j.a)({},a.paging)})}}),Object(n.jsx)(ra,{open:l,title:"Confirm delete",msg:"Are you sure you want to delete?",closeDialog:function(){d(!1)},setDialogSelection:function(e){console.log("[CodeGroupsListComponent.setDeleteDialogSelection] value=".concat(e)),e===f.OPTIONS.YES&&R(p),O(null)}})]})}var Sr=0;function vr(e){var t,a=Xt().showErrorMsgAlert,i=Object(s.b)(),c=Object(st.g)(),o=Object(St.b)({id:"",label:"",description:"test",paymentPeriod:{id:""},amount:0,priority:1,applyToAll:!0,active:!1}),l=o.control,d=o.register,u=o.handleSubmit,j=Object(r.useState)("Loading. Please wait..."),b=Object(xt.a)(j,2),p=b[0],O=b[1],g=Object(s.c)(Fe),m=Object(r.useState)(f.INIT_STATUS.INIT),h=Object(xt.a)(m,2),x=h[0],S=h[1];Object(r.useEffect)((function(){x===f.INIT_STATUS.INIT&&(-1==e.match.params.id&&i(De()),S(f.INIT_STATUS.LOAD)),x===f.INIT_STATUS.LOAD&&(v(),S(f.INIT_STATUS.DONE))}),[g,x]);var v=function(){console.log("[AccountPayablesSettingsDetailComponent.onRetrieve]  props.match.params.id==>".concat(e.match.params.id)),-1==e.match.params.id&&i(De()),O("Loading. Please wait..."),fr().then((function(e){i(Ve(e.data.listService)),O("")})).catch((function(e){return a(e,f.ERROR_CODE.RETRIEVE_ERROR,"AccountPayablesSettingsDetailComponent.onRetrieve","AccountPayablesSettingsService.getOptions")}))};return Sr++,Object(n.jsxs)(n.Fragment,{children:[console.log("[AccountPayablesSettingsDetailComponent.render] renderCount=".concat(Sr," selectedItem==>"),g),Object(n.jsx)(qt,{children:"Account Payables Settings Details"}),p&&Object(n.jsx)(na.a,{severity:"info",children:p}),Object(n.jsxs)("form",{onSubmit:u((function(e){O("Saving..."),function(e){return Yt.a.post("".concat(f.default.urlSavePattern(hr)),e)}(e).then((function(e){i(Ge(e.data.entity)),O(""),c.push(f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_LIST)})).catch((function(e){return a(e,f.ERROR_CODE.SAVE_ERROR,"CodeGroupsDetailComponent.save","CodeGroupsService.save")}))})),children:[Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:9}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",href:f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_DETAIL_URL+"/-1",startIcon:Object(n.jsx)(Ut.a,{}),children:"New"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",onClick:function(){return c.push(f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_LIST)},startIcon:Object(n.jsx)(oa.a,{}),children:"Cancel"})})]}),Object(n.jsx)(da.a,{type:"hidden",name:"id",inputRef:d,defaultValue:g.id}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(da.a,{required:!0,id:"description",name:"description",label:"Description",fullWidth:!0,autoComplete:"account-payables-settings-description",autoFocus:!0,variant:"filled",InputLabelProps:{shrink:!0},inputRef:d,defaultValue:g.description})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(da.a,{required:!0,id:"label",name:"label",label:"Label",fullWidth:!0,autoComplete:"account-payables-settings-label",autoFocus:!0,variant:"filled",InputLabelProps:{shrink:!0},inputRef:d,defaultValue:g.label})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(St.a,{as:Object(n.jsx)(da.a,(t={id:"period",required:!0,select:!0,label:"Period"},Object(Ba.a)(t,"required",!g.id),Object(Ba.a)(t,"disabled",!!g.id),Object(Ba.a)(t,"fullWidth",!0),Object(Ba.a)(t,"autoComplete","period"),Object(Ba.a)(t,"variant","filled"),Object(Ba.a)(t,"InputLabelProps",{shrink:!0}),Object(Ba.a)(t,"inputRef",d),Object(Ba.a)(t,"children",g.optionsList.periodList.map((function(e){return Object(n.jsx)(ua.a,{value:e.id,children:e.description},e.id)}))),t)),required:!0,name:"period.id",control:l,defaultValue:g.period.id,options:g.optionsList.periodList})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(St.a,{as:Object(n.jsx)(da.a,{id:"paymentPeriod",required:!0,select:!0,label:"Payment Period",fullWidth:!0,autoComplete:"paymentPeriod",variant:"filled",InputLabelProps:{shrink:!0},inputRef:d,children:g.optionsList.paymentPeriodList.map((function(e){return Object(n.jsx)(ua.a,{value:e.id,children:e.description},e.id)}))}),required:!0,name:"paymentPeriod.id",control:l,defaultValue:g.paymentPeriod.id,options:g.optionsList.paymentPeriodList})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:3,children:Object(n.jsx)(da.a,{required:!0,type:"number",id:"priority",name:"priority",label:"Priority",fullWidth:!0,autoComplete:"account-payables-settings-priority",variant:"filled",InputLabelProps:{shrink:!0},inputRef:d,defaultValue:g.priority})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:4,children:Object(n.jsx)(da.a,{required:!0,type:"number",id:"amount",name:"amount",label:"Amount",fullWidth:!0,autoComplete:"account-payables-settings-amount",variant:"filled",InputLabelProps:{shrink:!0},inputRef:d,defaultValue:g.amount})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(St.a,{as:Object(n.jsxs)(da.a,{id:"applyToAll",required:!0,select:!0,label:"Applicable to All",fullWidth:!0,autoComplete:"applyToAll",variant:"filled",InputLabelProps:{shrink:!0},inputRef:d,children:[Object(n.jsx)(ua.a,{value:!0,children:"Yes"},1),Object(n.jsx)(ua.a,{value:!1,children:"No"},2)]}),name:"applyToAll",control:l,defaultValue:g.applyToAll})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(St.a,{as:Object(n.jsxs)(da.a,{id:"active",required:!0,select:!0,label:"Active",fullWidth:!0,autoComplete:"active",variant:"filled",InputLabelProps:{shrink:!0},inputRef:d,children:[Object(n.jsx)(ua.a,{value:!0,children:"Yes"},1),Object(n.jsx)(ua.a,{value:!1,children:"No"},2)]}),name:"active",control:l,defaultValue:g.active})})]}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:9}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",href:f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_DETAIL_URL+"/-1",startIcon:Object(n.jsx)(Ut.a,{}),children:"New"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",onClick:function(){return c.push(f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_LIST)},startIcon:Object(n.jsx)(oa.a,{}),children:"Cancel"})})]})]})]})}var Pr="gradeLevelPayables";function Lr(e){var t=Xt().showErrorMsgAlert,a=Object(s.b)(),i=Object(s.c)(Ie),c=Object(r.useState)(!1),o=Object(xt.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)(),b=Object(xt.a)(u,2),p=b[0],O=b[1],g=Object(r.useState)({periodList:[]}),m=Object(xt.a)(g,2),h=m[0],x=m[1],S=Object(r.useState)({period:{id:"All"}}),v=Object(xt.a)(S,2),P=v[0],L=v[1];Object(r.useEffect)((function(){a(ve()),E()}),[]);var E=function(){Yt.a.get("".concat(f.default.urlOptionsPattern(Pr))).then((function(e){var t=Object(j.a)(Object(j.a)({},e.data.listService),{},{periodList:[{id:"ALL",description:"All"}].concat(Object(ge.a)(e.data.listService.periodList))});x(t)}))},y=function(e){var n=e.searchValue,r=e.paging,i=e.periodId,c=void 0===i?P.period.id:i;return function(e,t,a,n){return Yt.a.get("".concat(f.default.urlListPattern(Pr),"/period/").concat(n),{params:{searchValue:e,page:t,size:a,sort:"priority,description"}})}(n,r.currentPage,r.rowsPerPage,c).then((function(e){var t=e.data;console.log("[GradeLevelPayablesListComponent.retrieve] data=",t),a(Ee({INIT_STATUS:f.INIT_STATUS.LOAD,list:t.pagingList.content,searchValue:n,paging:{rowsPerPage:t.pagingList.size,currentPage:t.pagingList.pageable.pageNumber,totalElements:t.pagingList.totalElements,totalPage:t.pagingList.totalPage}}))})).catch((function(e){return t(e,f.ERROR_CODE.LIST_ERROR,"GradeLevelPayablesListComponent.retrieve","GradeLevelPayablesService.getList")}))},I=function(){y({searchValue:i.searchValue,paging:i.paging})},R=function(e){(function(e){return Yt.a.delete("".concat(f.default.urlDeletePattern(Pr),"/").concat(e))})(e).then(I).catch((function(e){return t(e,f.ERROR_CODE.LIST_ERROR,"GradeLevelPayablesListComponent.doDelete","GradeLevelPayablesService.deleteItem")}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(qt,{children:"Grade Level Payables List"}),Object(n.jsx)(Ot.a,{py:5,children:Object(n.jsx)(yt.a,{elevation:2,variant:"elevation",children:Object(n.jsxs)(Ot.a,{pb:3,px:3,children:[Object(n.jsx)(tr,{children:"Filter"}),Object(n.jsx)(vt.a,{container:!0,spacing:3,children:Object(n.jsx)(ir,{sm:3,name:"period",label:"Period",value:P.period.id,options:h.periodList,onChange:function(e){return function(e){var t=e.target,a=t.name,n=t.value;console.log("[AccountPayablesSettingsListComponent.changeSelectState] name=".concat(a,", value=").concat(n)),L(Object(j.a)(Object(j.a)({},P),{},Object(Ba.a)({},a,{id:n}))),console.log("[AccountPayablesSettingsListComponent.changeSelectState]  filter=",P),y({searchValue:i.searchValue,paging:Object(j.a)({},i.paging),periodId:n})}(e)}})})]})})}),Object(n.jsx)(Wt,{store:i,cols:[{headerName:"Level",render:function(e){return e.level.description}},{headerName:"Period",render:function(e){return e.period?e.period.description:""}},{field:"active",headerName:"Active",render:function(e){return e.active?"Y":"N"}}],onChangePage:function(e,t){y({searchValue:i.searchValue,paging:Object(j.a)(Object(j.a)({},i.paging),{},{currentPage:t})})},onChangeRowsPerPage:function(e){y({searchValue:i.searchValue,paging:Object(j.a)(Object(j.a)({},i.paging),{},{rowsPerPage:e.target.value,currentPage:0})})},doRetrieve:I,doEdit:function(t){var n=Object(ge.a)(t.accountPayablesSettings);n.sort((function(e,t){return e.priority-t.priority})),a(Se(Object(j.a)(Object(j.a)({},t),{},{accountPayablesSettings:Object(ge.a)(n)}))),e.history.push("".concat(f.PAGE_URL.GRADE_LEVEL_PAYABLES_DETAIL_URL))},doNew:function(){e.history.push("".concat(f.PAGE_URL.GRADE_LEVEL_PAYABLES_DETAIL_URL,"/-1"))},doDelete:function(e){O(e),d(!0)},doSearch:function(e){y({searchValue:e,paging:Object(j.a)({},i.paging)})}}),Object(n.jsx)(ra,{open:l,title:"Confirm delete",msg:"Are you sure you want to delete?",closeDialog:function(){d(!1)},setDialogSelection:function(e){console.log("[CodeGroupsListComponent.setDeleteDialogSelection] value=".concat(e)),e===f.OPTIONS.YES&&R(p),O(null)}})]})}var Er=a(1804),yr=a(1880),Ir=a(177),Rr=a.n(Ir);function Tr(e){var t=Xt(),a=t.showErrorAlert,i=t.showErrorMsgAlert,c=Object(r.useState)({list:[],searchValue:"",paging:{rowsPerPage:25,totalElements:0,currentPage:0}}),o=Object(xt.a)(c,2),s=o[0],l=o[1];Object(r.useEffect)((function(){d()}),[e.selectedItem]);var d=function(){var t,n,r,c;(console.log("[GradeLevelAccountPayablesSettingsListComponent.doRetrieve] props.selectedItem==>",e.selectedItem),e.selectedItem.period&&e.selectedItem.period.id)?(t=e.selectedItem.period.id,n=s.searchValue,r=s.paging.currentPage,c=s.paging.rowsPerPage,Yt.a.get("".concat(f.default.urlListPattern(hr),"/active/").concat(t),{params:{searchValue:n,page:r,size:c,sort:"priority,description,amount"}})).then((function(e){var t={list:e.data.pagingList.content,searchValue:s.searchValue,paging:{rowsPerPage:e.data.pagingList.size,currentPage:e.data.pagingList.pageable.pageNumber,totalElements:e.data.pagingList.totalElements,totalPage:e.data.pagingList.totalPage}};l(t)})).catch((function(e){return i(e,f.ERROR_CODE.LIST_ERROR,"GradeLevelAccountPayablesSettingsListComponent.retrieve","AccountPayablesSettingsService.getActiveList")})):a("Please select period")},u=[{field:"description",headerName:"Add",render:function(t){return Object(n.jsx)(Tt.a,{"aria-label":"add",onClick:function(){return function(t){e.setGradeLevelPayables(t)}(t)},children:Object(n.jsx)(Ut.a,{fontSize:"large"})})}},{field:"description",headerName:"Description"},{headerName:"Period",render:function(e){return e.period?e.period.description:""}},{headerName:"Payment Period",render:function(e){return e.paymentPeriod.description}},{field:"amount",headerName:"Amount"},{field:"priority",headerName:"Priority"}];return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Wt,{store:s,cols:u,showAction:!1,onChangePage:function(e,t){var a=Object(j.a)({},s);a.paging.currentPage=t,l(a),d()},onChangeRowsPerPage:function(e){var t=Object(j.a)({},s),a=t.paging;a.rowsPerPage=e.target.value,a.currentPage=0,l(t),d()},doRetrieve:d,doSearch:function(e){s.searchValue=e,d()}})})}var Ar=0;function Cr(e){var t=Xt().showErrorMsgAlert,a=Object(s.b)(),i=Object(st.g)(),c=Object(r.useState)("Loading. Please wait..."),o=Object(xt.a)(c,2),l=o[0],d=o[1],u=Object(s.c)(Re),b=Object(r.useState)(f.INIT_STATUS.INIT),p=Object(xt.a)(b,2),O=p[0],g=p[1];Object(r.useEffect)((function(){O===f.INIT_STATUS.INIT?(-1===e.match.params.id&&a(ve()),g(f.INIT_STATUS.LOAD)):O===f.INIT_STATUS.LOAD&&(m(),g(f.INIT_STATUS.RESET))}),[u,O]);var m=function(){h("-1")},h=function(n){var r;console.log("[GradeLevelPayablesDetailsComponent.onRetrieve]  props.match.params.id==>".concat(e.match.params.id)),-1===e.match.params.id&&a(ve()),d("Loading. Please wait..."),(r=n,Yt.a.get(f.API_URL_BASE+Pr+f.URL_OPTIONS+"/period/".concat(r))).then((function(e){return x(e)})).catch((function(e){return t(e,f.ERROR_CODE.RETRIEVE_ERROR,"GradeLevelPayablesDetailsComponent.onRetrieve","GradeLevelPayablesService.getOptions")}))},x=function(e){console.log("[GradeLevelPayablesDetailsComponent.onRetrieveResponseAction]  response==>",e),a(Pe(e.data.listService)),d("")},S=function(e){var n;e.preventDefault(),d(""),(n={id:u.id,level:u.level,period:u.period,active:u.active,accountPayablesSettings:u.list},Yt.a.post("".concat(f.default.urlSavePattern(Pr)),n)).then((function(e){a(ye(e.data.entity)),i.push(f.PAGE_URL.GRADE_LEVEL_PAYABLES_LIST)})).catch((function(e){return t(e,f.ERROR_CODE.SAVE_ERROR,"GradeLevelPayablesDetailsComponent.onSubmitForm","GradeLevelPayablesService.save")}))},v=function(e){var t=e.target,n=t.name,r=t.value;console.log("[GradeLevelPayablesDetailsComponent.changeSelectState] name=".concat(n,", value=").concat(r)),a(Le(Object(Ba.a)({},n,{id:r})))},P=function(){return Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:9}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"submit",startIcon:Object(n.jsx)(la.a,{}),children:"Save"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",href:f.PAGE_URL.GRADE_LEVEL_PAYABLES_DETAIL_URL+"/-1",startIcon:Object(n.jsx)(Ut.a,{}),children:"New"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",onClick:function(){return i.push(f.PAGE_URL.GRADE_LEVEL_PAYABLES_LIST)},startIcon:Object(n.jsx)(oa.a,{}),children:"Cancel"})})]})},L=[{field:"description",headerName:"Description",render:function(e){return Object(n.jsxs)(n.Fragment,{children:["NEW"===e.status&&Object(n.jsxs)(n.Fragment,{children:[e.description," ",Object(n.jsx)(Rr.a,{fontSize:"small"})]}),"NEW"!==e.status&&e.description]})}},{headerName:"Period",render:function(e){return Object(n.jsxs)(n.Fragment,{children:[e.period.id!==u.period.id&&Object(n.jsxs)(n.Fragment,{children:[e.period.description," ",Object(n.jsx)(Rr.a,{fontSize:"small"})]}),e.period.id===u.period.id&&e.period.description]})}},{headerName:"Payment Period",render:function(e){return e.paymentPeriod?e.paymentPeriod.description:""}},{field:"amount",headerName:"Amount"},{field:"priority",headerName:"Priority"},{headerName:"Action",render:function(e){return Object(n.jsx)(Tt.a,{"aria-label":"add",onClick:function(){return t=e.id,a(Le({list:Object(ge.a)(u.list.filter((function(e){return e.id!==t})))}));var t},children:Object(n.jsx)(Nt.a,{fontSize:"large"})})}}];return Ar++,Object(n.jsxs)(n.Fragment,{children:[console.log("[GradeLevelPayablesDetailsComponent.render] renderCount=".concat(Ar," selectedItem==>"),u),Object(n.jsx)(qt,{children:"Grade Level Payables"}),l&&Object(n.jsx)(na.a,{severity:"info",children:l}),Object(n.jsxs)("form",{onSubmit:function(e){return S(e)},children:[Object(n.jsx)(P,{}),Object(n.jsx)(Ot.a,{pb:3,children:Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(ir,{sm:2,required:!0,name:"level",label:"Level",value:u.level.id,options:u.optionsList.levelList,onChange:function(e){return v(e)}}),Object(n.jsx)(ir,{sm:3,required:!u.id,disabled:!!u.id,name:"period",label:"Period",value:u.period.id,options:u.optionsList.periodList,onChange:function(e){return function(e){var t=e.target.value;v(e),h(t)}(e)}}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:2,children:Object(n.jsx)(Er.a,{"aria-label":"position",row:!0,children:Object(n.jsx)(Ha.a,{value:"true",control:Object(n.jsx)(yr.a,{checked:u.active,onChange:function(e){return function(e){var t=e.target,n=t.name,r=t.checked;console.log("[GradeLevelPayablesDetailsComponent.handleCheckboxChange] name=".concat(n,", checked=").concat(r)),a(Le(Object(Ba.a)({},n,r)))}(e)},name:"active"}),label:"Active",labelPlacement:"end"})})})]})}),Object(n.jsxs)(Ot.a,{py:3,children:[Object(n.jsx)(Ot.a,{pb:3,children:Object(n.jsx)(Wt,{store:u,cols:L,showAction:!1,showPaging:!1,showSearch:!1})}),Object(n.jsx)(P,{})]}),Object(n.jsx)(Tr,{setGradeLevelPayables:function(e){console.log("[GradeLevelPayablesDetailsComponent.setGradeLevelPayables] data==>",e);var t=Object(ge.a)(u.list);if(0===t.filter((function(t){return t.id===e.id})).length){var n=Object(j.a)(Object(j.a)({},e),{},{status:"NEW"});t.push(n),a(Le({list:t}))}},selectedItem:u})]})]})}function _r(){var e=Xt(),t=e.props,a=e.closeMsgAlert;return Object(n.jsxs)(n.Fragment,{children:[console.log("[GlobalAlertMsgDialog.return] props=>",t),Object(n.jsxs)(Qt.a,{open:t.open,onClose:function(){return a()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)($t.a,{id:"alert-dialog-title",children:Object(n.jsx)(na.a,{severity:t.severity,align:"right",children:Object(n.jsx)(mt.a,{variant:"h6",children:t.title})})}),Object(n.jsx)(Zt.a,{children:Object(n.jsx)(ea.a,{id:"alert-dialog-description",children:t.msg})}),Object(n.jsx)(ta.a,{children:Object(n.jsx)(aa.a,{onClick:function(){return a()},children:t.label})})]})]})}function Nr(e){var t=Object(s.b)(),a=Object(s.c)(rt),i=Xt(),c=i.getFormatedErrorMessage,o=i.showErrorMsgAlert,l=(i.showErrorAlert,function(){var e="processing",t="createdDate,desc";return{getList:function(a,n,r){return Yt.a.get("".concat(f.default.urlListPattern(e),"?searchValue=").concat(a,"&page=").concat(n,"&size=").concat(r,"&sort=").concat(t))},get:function(t){return Yt.a.get("".concat(f.default.urlListPattern(e),"/").concat(t))},getOptions:function(){return Yt.a.get("".concat(f.default.urlOptionsPattern(e)))},deleteItem:function(t){return Yt.a.delete("".concat(f.default.urlDeletePattern(e),"/").concat(t))},getListClosePeriod:function(a,n,r){return Yt.a.get("".concat(f.default.urlListPattern(e)+"/CLOSE_PERIOD","?searchValue=").concat(a,"&page=").concat(n,"&size=").concat(r,"&sort=").concat(t))},getOptionsByPeriod:function(t){return Yt.a.get(f.API_URL_BASE+e+f.URL_OPTIONS+"/period/".concat(t))},saveClosePeriod:function(t){return Yt.a.patch("".concat(f.API_URL_BASE+e+"/period"),t)}}}()),d=l.deleteItem,u=l.getListClosePeriod,b=l.getOptions,p=l.saveClosePeriod,O=Object(r.useState)({periodFrom:{id:""},periodTo:{id:""}}),g=Object(xt.a)(O,2),m=g[0],h=g[1],x=Object(r.useState)({periodList:[]}),S=Object(xt.a)(x,2),v=S[0],P=S[1],L=Object(r.useState)(!1),E=Object(xt.a)(L,2),y=E[0],I=E[1],R=Object(r.useState)(!1),T=Object(xt.a)(R,2),A=T[0],C=T[1],_=Object(r.useState)(),N=Object(xt.a)(_,2),D=N[0],U=N[1],w=Object(r.useState)("Loading. Please wait..."),G=Object(xt.a)(w,2),V=G[0],B=G[1];Object(r.useEffect)((function(){F()}),[]);var F=function(){B("Loading. Please wait..."),b().then((function(e){console.log("[ClosePeriodComponent.doInitOptions] response=>",e);var t=Object(j.a)(Object(j.a)({},e.data.listService),{},{periodList:Object(ge.a)(e.data.listService.periodList)});B(""),P(t)})).catch((function(e){return o(e,f.ERROR_CODE.RETRIEVE_ERROR,"ClosePeriodComponent.onRetrieve","ClosePeriodComponent.getOptions")}))},k=function(){var e=[];if(m.periodFrom.id||e.push("Invalid Period From"),m.periodTo.id||e.push("Invalid Period To"),0==e.length&&m.periodFrom.id==m.periodTo.id&&e.push("Invalid Period From and To. Period From and To should not be equal."),e.length>0){var t=e.join(", ");return B(t),!1}return!0},W=function(){B("Process has started..."),p({type:"CLOSE_PERIOD",params:{fromPeriodId:m.periodFrom.id,toPeriodId:m.periodTo.id}}).then((function(e){console.log("[ClosePeriodComponent.changeSelectState] request=>",e),B("Done processing! Please see message in the list below."),M()})).catch((function(e){B(c(e,f.ERROR_CODE.SAVE_ERROR,"ClosePeriodComponent.onRetrieve","ClosePeriodComponent.save")),o(e,f.ERROR_CODE.SAVE_ERROR,"ClosePeriodComponent.onRetrieve","ClosePeriodComponent.save"),M()}))},H=function(e){var t=e.target,a=t.name,n=t.value;console.log("[ClosePeriodComponent.changeSelectState] name=".concat(a,", value=").concat(n)),h(Object(j.a)(Object(j.a)({},m),{},Object(Ba.a)({},a,{id:n}))),console.log("[ClosePeriodComponent.changeSelectState]  filter=",m)},Y=function(e){var a=e.searchValue,n=e.paging;return u(a,n.currentPage,n.rowsPerPage).then((function(e){var n=e.data;t(nt({INIT_STATUS:f.INIT_STATUS.LOAD,list:n.pagingList.content,searchValue:a,paging:{rowsPerPage:n.pagingList.size,currentPage:n.pagingList.pageable.pageNumber,totalElements:n.pagingList.totalElements,totalPage:n.pagingList.totalPage}}))})).catch((function(e){return o(e,f.ERROR_CODE.LIST_ERROR,"ClosePeriodComponent.retrieve","ClosePeriodComponent.getListClosePeriod")}))},M=function(){return Y({searchValue:a.searchValue,paging:a.paging})},q=function(e){return d(e).then(M).catch((function(e){return o(e,f.ERROR_CODE.DELETE_ERROR,"ClosePeriodComponent.doDelete","CodeGroupsService.deleteItem")}))},z=[{field:"type",headerName:"Type"},{field:"status",headerName:"Status",render:function(e){var t=e.status;return"X"===t?t="Not Processed":"P"===t?t="Pending":"R"===t?t="Running":"F"===t?t="Failed":"C"===t&&(t="Completed"),t}},{field:"statusMessage",headerName:"Message"},{headerName:"User",render:function(e){return e.user?e.user.userName:""}},{headerName:"Creation",render:function(e){return e.createdDate?ne()(e.createdDate).format("lll"):""}}];return Object(n.jsxs)(n.Fragment,{children:[console.log("[ClosePeriodComponent.return] "),Object(n.jsx)(qt,{children:"Close Period"}),V&&Object(n.jsx)(na.a,{severity:"info",children:V}),Object(n.jsxs)("form",{children:[Object(n.jsx)(Ot.a,{py:5,children:Object(n.jsx)(yt.a,{elevation:2,variant:"elevation",children:Object(n.jsxs)(Ot.a,{pb:3,px:3,children:[Object(n.jsx)(tr,{children:"Filter"}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(ir,{sm:3,name:"periodFrom",label:"From Period",value:m.periodFrom.id,options:v.periodList,onChange:function(e){return H(e)}}),Object(n.jsx)(ir,{sm:3,name:"periodTo",label:"To Period",value:m.periodTo.id,options:v.periodList,onChange:function(e){return H(e)}})]})]})})}),Object(n.jsxs)(vt.a,{container:!0,spacing:3,children:[Object(n.jsx)(vt.a,{item:!0,xs:12,sm:1,children:Object(n.jsx)(aa.a,{variant:"contained",color:"primary",type:"button",onClick:function(){return B(""),void(k()&&I(!0))},startIcon:Object(n.jsx)(la.a,{}),children:"Process"})}),Object(n.jsx)(vt.a,{item:!0,xs:12,sm:11})]}),Object(n.jsx)(Wt,{store:a,cols:z,onChangePage:function(e,t){return Y({searchValue:a.searchValue,paging:Object(j.a)(Object(j.a)({},a.paging),{},{currentPage:t})})},onChangeRowsPerPage:function(e){return Y({searchValue:a.searchValue,paging:Object(j.a)(Object(j.a)({},a.paging),{},{rowsPerPage:e.target.value,currentPage:0})})},doRetrieve:M,doEdit:function(a){t(at(a)),e.history.push("".concat(f.PAGE_URL.CODE_GROUPS_DETAIL_URL))},doNew:function(){return e.history.push("".concat(f.PAGE_URL.CODE_GROUPS_DETAIL_URL,"/-1"))},doDelete:function(e){U(e),C(!0)},doSearch:function(e){return Y({searchValue:e,paging:Object(j.a)({},a.paging)})}}),Object(n.jsx)(ra,{open:A,type:f.OPTIONS.YESNO,title:"Confirm delete",msg:"Are you sure you want to delete?",closeDialog:function(){C(!1)},setDialogSelection:function(e){console.log("[ClosePeriodComponent.setDeleteDialogSelection] value=".concat(e)),e===f.OPTIONS.YES&&q(D),U(null)}}),Object(n.jsx)(ra,{open:y,type:f.OPTIONS.OKCANCEL,title:"Please confirm",msg:"You are about to close the period. Do you wish to continue?",closeDialog:function(){I(!1)},setDialogSelection:function(e){console.log("[ClosePeriodComponent.setDeleteDialogSelection] value=".concat(e)),e===f.OPTIONS.OK&&W()}})]})]})}var Dr=Object(lt.a)((function(e){return{root:{display:"flex"},toolbar:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}})),Ur=function(){var e=Dr();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(dt.a,{}),Object(n.jsx)(ot.a,{children:Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(kn,{}),Object(n.jsxs)("main",{className:e.content,children:[Object(n.jsx)("div",{className:e.toolbar}),Object(n.jsx)(_r,{}),Object(n.jsxs)(st.d,{children:[Object(n.jsx)(st.b,{path:f.PAGE_URL.ROOT,exact:!0,component:Va}),Object(n.jsx)(st.b,{path:f.PAGE_URL.INDEX,exact:!0,component:Va}),Object(n.jsx)(st.b,{path:f.PAGE_URL.LOGOUT,component:Ia}),Object(n.jsx)(st.b,{path:f.PAGE_URL.LOGIN,component:ya}),Object(n.jsx)(fa,{path:f.PAGE_URL.STUDENT_LIST,component:Jn}),Object(n.jsx)(fa,{path:f.PAGE_URL.STUDENT_DETAIL,component:zn}),Object(n.jsx)(fa,{path:f.PAGE_URL.STUDENT_DETAIL_URL,component:zn}),Object(n.jsx)(fa,{path:f.PAGE_URL.BILLING_PAYABLES,exact:!0,component:mr}),Object(n.jsx)(fa,{path:f.PAGE_URL.BILLING,exact:!0,component:mr}),Object(n.jsx)(fa,{path:f.PAGE_URL.USER_LIST,exact:!0,component:ia}),Object(n.jsx)(fa,{path:f.PAGE_URL.USER_DETAIL,exact:!0,component:ba}),Object(n.jsx)(fa,{path:f.PAGE_URL.USER_DETAIL_URL,exact:!0,component:ba}),Object(n.jsx)(fa,{path:f.PAGE_URL.CODE_GROUPS_LIST,exact:!0,component:Ta}),Object(n.jsx)(fa,{path:f.PAGE_URL.CODE_GROUPS_DETAIL,exact:!0,component:Aa}),Object(n.jsx)(fa,{path:f.PAGE_URL.CODE_GROUPS_DETAIL_URL,exact:!0,component:Aa}),Object(n.jsx)(fa,{path:f.PAGE_URL.SCHOOL_LIST,exact:!0,component:Qn}),Object(n.jsx)(fa,{path:f.PAGE_URL.SCHOOL_DETAIL,exact:!0,component:Xn}),Object(n.jsx)(fa,{path:f.PAGE_URL.SCHOOL_DETAIL_URL,exact:!0,component:Xn}),Object(n.jsx)(fa,{path:f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_LIST,exact:!0,component:xr}),Object(n.jsx)(fa,{path:f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_DETAIL,exact:!0,component:vr}),Object(n.jsx)(fa,{path:f.PAGE_URL.ACCOUNT_PAYABLES_SETTINGS_DETAIL_URL,exact:!0,component:vr}),Object(n.jsx)(fa,{path:f.PAGE_URL.GRADE_LEVEL_PAYABLES_LIST,exact:!0,component:Lr}),Object(n.jsx)(fa,{path:f.PAGE_URL.GRADE_LEVEL_PAYABLES_DETAIL,exact:!0,component:Cr}),Object(n.jsx)(fa,{path:f.PAGE_URL.GRADE_LEVEL_PAYABLES_DETAIL_URL,exact:!0,component:Cr}),Object(n.jsx)(fa,{path:f.PAGE_URL.CLOSE_PERIOD_DETAIL_URL,exact:!0,component:Nr}),Object(n.jsx)(st.b,{component:pt})]}),Object(n.jsx)(ft,{})]})]})})]})};var wr=function(){var e=ha(),t=e.initAxios,a=e.initUser,i=Fn(),c=Object(l.a)({palette:{type:i.props.darkMode?Gn:Vn}});return Object(r.useEffect)((function(){t(),a(),i.initTheme()}),[]),Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(s.a,{store:ct,children:Object(n.jsx)(d.a,{theme:c,children:Object(n.jsx)(Ur,{})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(Kt,{children:Object(n.jsx)(wr,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},322:function(e,t,a){},323:function(e,t,a){},4:function(e,t,a){"use strict";a.r(t),a.d(t,"INIT_STATUS",(function(){return o})),a.d(t,"defaultPageable",(function(){return s})),a.d(t,"formatter",(function(){return l})),a.d(t,"USER_TEMP",(function(){return d})),a.d(t,"URL_BASE_DEV",(function(){return u})),a.d(t,"URL_BASE",(function(){return j})),a.d(t,"AUTH_URL_BASE",(function(){return b})),a.d(t,"API_URL_BASE",(function(){return p})),a.d(t,"URL_LIST",(function(){return O})),a.d(t,"URL_DELETE",(function(){return g})),a.d(t,"URL_DETAILS",(function(){return m})),a.d(t,"URL_OPTIONS",(function(){return h})),a.d(t,"URL_SAVE",(function(){return f})),a.d(t,"AUTH_USER",(function(){return x})),a.d(t,"AUTH_USER_OBJ",(function(){return S})),a.d(t,"JWT_TOKEN",(function(){return v})),a.d(t,"UPDATE_ERROR",(function(){return P})),a.d(t,"REQUIRED_DESCRIPTION",(function(){return L})),a.d(t,"REQUIRED_5_DESCRIPTION",(function(){return E})),a.d(t,"REQUIRED_TARGET_DATE",(function(){return y})),a.d(t,"OPTIONS",(function(){return I})),a.d(t,"PAGE_URL",(function(){return R})),a.d(t,"ERROR_CODE",(function(){return T})),a.d(t,"ADDRESS_TYPE",(function(){return A})),a.d(t,"StyledTableHeadRow",(function(){return C})),a.d(t,"StyledTableRow",(function(){return _})),a.d(t,"StyledTableHeadCell",(function(){return N})),a.d(t,"StyledTableCell",(function(){return D}));var n=a(41),r=a(274),i=a(275),c=a(8),o={INIT:"INIT",DONE:"DONE",LOAD:"LOAD",RESET:"RESET",PAYABLES:"PAYABLES",PAYABLES_RESET:"PAYABLES_RESET"},s={INIT_STATUS:o.INIT,list:[],searchValue:"",paging:{rowsPerPage:25,totalElements:0,currentPage:0,totalPage:0}},l=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),d={userName:"",userFullName:"Guest",schoolName:"SARA PROJECT",schoolAddress:"",schoolLogo:"",schoolId:""},u="http://localhost:5000",j="",b=j+"/auth",p=j+"/api/",O="/l",g="/d",m="/g",h="/o",f="/s",x="auth/setUser",S="auth/setUserObj",v="auth/setToken",P="Error: Unable to update. Please contact system administrator.",L="Description is required",E="Description should be atleast 5 characters",y="Target date is required",I={YESNO:"YESNO",YES:"YES",NO:"NO",OKCANCEL:"OKCANCEL",OK:"OK",CANCEL:"CANCEL"},R={LOGO_URL:"/r/logo/",ROOT:"/",INDEX:"/index.html",DASHBOARD:"/dashboard",LOGOUT:"/logout",LOGIN:"/login",GRADE_LEVEL_PAYABLES_LIST:"/ui/grade-level-payables-list",GRADE_LEVEL_PAYABLES_DETAIL:"/ui/grade-level-payables-detail/:id",GRADE_LEVEL_PAYABLES_DETAIL_URL:"/ui/grade-level-payables-detail",ACCOUNT_PAYABLES_SETTINGS_LIST:"/ui/account-payables-settings-list",ACCOUNT_PAYABLES_SETTINGS_DETAIL:"/ui/account-payables-settings-detail/:id",ACCOUNT_PAYABLES_SETTINGS_DETAIL_URL:"/ui/account-payables-settings-detail",SCHOOL_LIST:"/ui/school-list",SCHOOL_DETAIL:"/ui/school-detail/:id",SCHOOL_DETAIL_URL:"/ui/school-detail",STUDENT_LIST:"/ui/student-list",STUDENT_DETAIL:"/ui/student-detail/:id",STUDENT_DETAIL_URL:"/ui/student-detail",BILLING:"/ui/billing",BILLING_PAYABLES:"/ui/billing/:id",BILLING_PAYABLES_URL:"/ui/billing",USER_LIST:"/ui/user-list",USER_DETAIL:"/ui/user-detail/:id",USER_DETAIL_URL:"/ui/user-detail",CODE_GROUPS_DETAIL:"/ui/code-groups-detail/:id",CODE_GROUPS_DETAIL_URL:"/ui/code-groups-detail",CODE_GROUPS_LIST:"/ui/code-groups-list",ADDRESS_LIST:"/ui/address-list",ADDRESS_DETAIL:"/ui/address-detail/:id",USER_ADDRESS_DETAIL:"/ui/address-detail/:id/:refId/:typeId",CLOSE_PERIOD_DETAIL_URL:"/ui/close-period-detail"},T={LOGIN_ERROR:"100000",RETRIEVE_ERROR:"100001",SAVE_ERROR:"100002",DELETE_ERROR:"100003",LIST_ERROR:"100004"},A={USER:"1",STUDENT:"2",PARENT:"3"},C=Object(c.a)((function(e){return{root:{fontWeight:"bold"},head:{}}}))(r.a),_=Object(c.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(r.a),N=Object(c.a)((function(e){return{head:{fontWeight:"bold",fontStyle:"bold",fontSize:16},body:{fontSize:12}}}))(i.a),D=Object(c.a)((function(e){return{head:{fontWeight:"bold",fontStyle:"bold",fontSize:14},body:{fontWeight:"bold",fontStyle:"bold",fontSize:20}}}))(i.a);t.default=new function e(){Object(n.a)(this,e),this.getFormatedErrorMessage=function(e,t,a,n){var r="Error (".concat(t,"): ").concat(e.message," ");return console.error("[".concat(a,"] ").concat(n," error msg: ").concat(r),e),console.error("[".concat(a,"] ").concat(n," error "),JSON.stringify(e)),e.message&&(r=e.message),e.response&&(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),r="".concat(e.response.data)),r},this.urlListPattern=function(e){return p+e+O},this.urlDeletePattern=function(e){return p+e+g},this.urlDetailsPattern=function(e){return p+e+m},this.urlOptionsPattern=function(e){return p+e+h},this.urlSavePattern=function(e){return p+e+f}}}},[[1799,1,2]]]);
//# sourceMappingURL=main.25bca0dc.chunk.js.map